(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{184:function(e,t,a){e.exports=a(264)},189:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),i=a.n(l),o=(a(189),a(12)),c=a(9),s=a(23),u=function(){return r.a.createElement(r.a.Fragment,null,"Hi, I am NoPages....")},d=a(10),m=a(26),E=a(2),p=a.n(E),f=a(6),h=a(3),T=a(304),v=a(328),S=a(348),b=a(327),g=a(349),y=(a(193),a(317)),O=a(334),N=Object(T.a)(function(e){return{container:{padding:10}}}),x=function(){var e=N();return r.a.createElement(O.a,{className:e.container})},A=a(17),C=a(70),D=a.n(C),w=a(106),_=a.n(w),I={OWNERS:"USER_DETAILS",FLAT_DETAILS:"FLAT_DETAILS",MAINTENANCE_MASTER:"MAINTENANCE_MASTER",MAINTENANCE:"MAINTENANCE",PAYMENT:"PAYMENT",PAYMENT_DETAILS:"PAYMENT_DETAILS",EXPENSE_HEAD:"EXPENSE_HEAD",EXPENSES:"EXPENSES",EXPENSE_ITEMS:"EXPENSE_ITEMS",EVENTS:"EVENTS",NOTES:"NOTES",SETTINGS:"SETTINGS"},j={};j[I.OWNERS]="Owners",j[I.FLAT_DETAILS]="Flat Details",j[I.PAYMENT]="Payment",j[I.PAYMENT_DETAILS]="Payment Details",j[I.MAINTENANCE_MASTER]="Maintenance Master",j[I.MAINTENANCE]="Maintenance",j[I.EXPENSE_HEAD]="Expense Head",j[I.EXPENSES]="Expenses",j[I.EXPENSE_ITEMS]="Expense Items",j[I.EVENTS]="Events";var R={};R[I.PAYMENT]=[I.PAYMENT_DETAILS,I.FLAT_DETAILS];var k={OBJECTS:I,OBJECTS_LABEL:j,CHILD_OBJECTS:R,ICONS:{USER_DETAILS:"fa fa-user",FLAT_DETAILS:"fa fa-building",PAYMENT:"fa fa-money",MAINTENANCE_MASTER:"fa fa-money",MAINTENANCE:"fa fa-money",PAYMENT_DETAILS:"fa fa-money",EXPENSE_HEAD:"fa fa-money",EXPENSES:"fa fa-money",EXPENSE_ITEMS:"fa fa-money",EVENTS:"fa fa-calendar-plus-o",SETTINGS:"fa fa-cog"},FORM_CONSTANTS:{VALIDATOR_TYPE_OPTIONAL:"OPTIONAL",VALIDATOR_TYPE_REQUIRED:"REQUIRED"},MONTHS_SORT_FORM:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"June",7:"July",8:"Aug",9:"Sept",10:"Oct",11:"Nov",12:"Dec"},MONTHS_FULL_FORM:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},EVENT_TYPES:{ONETIME:"ONETIME",SUBEVENT:"SUBEVENT"}},P={HOST:"http://localhost:8080",APP_LOGIN:"/api/authenticate",PROJECT_CREATE_OR_UPDATE:"/api/project/create_or_update",PROJECT_GET:"/api/project/get",APARTMENT_DETAILS_GET:"/api/apartment-details/get",APARTMENT_DETAILS_GET_BY_ID:"/api/apartment-details/get/",SESSION_DETAILS_CREATE_OR_UPDATE:"/api/session_details/create_or_update",SESSION_DETAILS_LIST_GET:"/api/session_details/list/get/",SESSION_DETAILS_DELETE:"/api/session_details/delete/",USER_LIST_GET:"/api/user/list/get/",USER_LIST_VIEW_GET:"/api/user/list_view/get",USER_GET:"/api/user/get/",USER_CREATE_OR_UPDATE:"/api/user/create_or_update",USER_DELETE:"/api/user/delete/",USER_DELETE_BATCH:"/api/user/delete/batch",USER_BY_FLAT_ID_GET:"/api/user/by_flat_id/get/",FLAT_DETAILS_LIST_GET:"/api/flat_details/list/get",FLAT_DETAILS_LIST_VIEW_GET:"/api/flat_details/list_view/get",FLAT_DETAILS_GET:"/api/flat_details/get/",FLAT_DETAILS_CREATE_OR_UPDATE:"/api/flat_details/create_or_update",FLAT_DETAILS_DELETE:"/api/flat_details/delete/",FLAT_DETAILS_DELETE_BATCH:"/api/flat_details/delete/batch",COMMON_LINK_OBJECT_SAVE:"/api/common/link/save",COMMON_LINK_OBJECT_GET:"/api/common/link/get",MAINTANANCE_CREATE_OR_UPDATE:"/api/maintenance/create_or_update",MAINTANANCE_LIST_VIEW_GET:"/api/maintenance/list_view/get",MAINTANANCE_LIST_GET:"/api/maintenance/list/get/",MAINTANANCE_GET:"/api/maintenance/get/",MAINTANANCE_DELETE_BATCH:"/api/maintenance/delete/batch",MAINTANANCE_MASTER_LIST_VIEW_GET:"/api/maintenance/master/list_view/get",MAINTANANCE_MASTER_CREATE_OR_UPDATE:"/api/maintenance/master/create_or_update",MAINTANANCE_MASTER_ACTIVE:"/api/maintenance/master/active/",MAINTANANCE_MASTER_DELETE_BATCH:"/api/maintenance/master/delete/batch",PAYMENT_ADD_PAGE_GET:"/api/payment/add_page/get/",PAYMENT_LIST_VIEW_GET:"/api/payment/list_view/get",PAYMENT_SAVE:"/api/payment/save",PAYMENT_DELETE:"/api/payment/delete/",PAYMENT_GET:"/api/payment/get/",PAYMENT_DOWNLOAD:"/api/payment/download/",PAYMENT_CANCEL:"/api/payment/cancel",PAYMENT_DETAILS_CREATE_OR_UPDATE:"/api/payment_details/save",PAYMENT_DETAILS_LIST_VIEW_GET:"/api/payment_details/list_view/get",PAYMENT_DETAILS_DUES_LIST_VIEW_GET:"/api/payment_details/list_view/dues/get",EVENTS_LIST_GET:"/api/events/list/get/",EVENTS_LIST_VIEW_GET:"/api/events/list_view/get",EVENTS_CREATE_OR_UPDATE:"/api/events/create_or_update",EVENTS_GET:"/api/events/get/",EVENTS_ACTIVE:"/api/events/active/",EVENTS_INACTIVE:"/api/events/inactive/",EVENTS_DELETE_BATCH:"/api/events/delete/batch",EVENTS_BY_EXPENSE_ID_GET:"/api/events/by_expense_id/get/",EXPENSE_HEAD_LIST_GET:"/api/expense-head/list/get/",EXPENSE_HEAD_LIST_VIEW_GET:"/api/expense-head/list_view/get",EXPENSE_HEAD_CREATE_OR_UPDATE:"/api/expense-head/create_or_update",EXPENSE_HEAD_GET:"/api/expense-head/get/",EXPENSE_HEAD_DELETE:"/api/expense-head/delete/",EXPENSES_LIST_GET:"/api/expenses/list/get/",EXPENSES_LIST_VIEW_GET:"/api/expenses/list_view/get",EXPENSES_CREATE_OR_UPDATE:"/api/expenses/create_or_update",EXPENSES_GET:"/api/expenses/get/",EXPENSES_DELETE:"/api/expenses/delete/",EXPENSES_DOWNLOAD:"/api/expenses/download/",EXPENSES_ITEMS_LIST_VIEW_GET:"/api/expense_items/list_view/get",NOTES_VIEW_GET:"/api/notes/view/get",NOTES_CREATE_OR_UPDATE:"/api/notes/create_or_update",NOTES_GET:"/api/notes/get/",NOTES_DELETE:"/api/notes/delete/"},F=k.CHILD_OBJECTS,L=k.OBJECTS,M={getObjectNameFromUrl:function(){var e=Object(c.f)().pathname,t="";e&&(t=e.split("/")[1]);return(t=t.replace("-","_")).toUpperCase()},getChildObjectsByObject:function(e){if(e){var t=e.toUpperCase();return F[t]}return[]},isDetailView:function(){return Object(c.f)().pathname.split("/").indexOf("detail_view")>=0},downloadCSVFile:function(e,t,a,n){if(e&&""!=e&&t&&t.length>0&&a){var r=!!n&&n.isSerial,l=n?n.additionalRows:[];r&&t.unshift({name:"srl",label:"Srl. No."});var i=t.map(function(e){return e.label}).join(",");i+="\n",a.map(function(e,a){var n=[];t.map(function(e){return e.name}).map(function(t){"srl"===t?n.push(a+1):n.push(e[t])}),i+=n.join(","),i+="\n"}),l&&(i+="\n",i+=l.join(","),i+="\n");var o=document.createElement("a");o.href="data:text/csv;charset=utf-8,"+encodeURI(i),o.target="_blank",o.download=e+".csv",o.click()}},getForienKeyFieldName:function(e){var t="",a=e.object.toUpperCase();return a===L.FLAT_DETAILS?t="flatId":a===L.PAYMENT?t="paymentId":a===L.EVENTS&&(t="eventId"),t},getGETApiUrl:function(e){if(e.toUpperCase()==L.OWNERS)return P.USER_GET;if(e.toUpperCase()==L.FLAT_DETAILS)return P.FLAT_DETAILS_GET;if(e.toUpperCase()==L.MAINTENANCE)return P.MAINTANANCE_GET;if(e.toUpperCase()==L.EVENTS)return P.EVENTS_GET;if(e.toUpperCase()==L.PAYMENT)return P.PAYMENT_GET;if(e.toUpperCase()==L.PAYMENT_DETAILS);else{if(e.toUpperCase()==L.EXPENSES)return P.EXPENSES_GET;e.toUpperCase(),L.EXPENSE_ITEMS}},getFormPOSTApiUrl:function(e){if(e.toUpperCase()==L.OWNERS)return P.USER_CREATE_OR_UPDATE;if(e.toUpperCase()==L.FLAT_DETAILS)return P.FLAT_DETAILS_CREATE_OR_UPDATE;if(e.toUpperCase()==L.MAINTENANCE)return P.MAINTANANCE_CREATE_OR_UPDATE;if(e.toUpperCase()==L.EVENTS)return P.EVENTS_CREATE_OR_UPDATE;if(e.toUpperCase()==L.PAYMENT)return P.PAYMENT_SAVE;if(e.toUpperCase()==L.PAYMENT_DETAILS);else{if(e.toUpperCase()==L.EXPENSES)return P.EXPENSES_CREATE_OR_UPDATE;e.toUpperCase(),L.EXPENSE_ITEMS}}},B=a(8),V=a(346),H=a(316),U=function(e,t){e&&""!==e||(e="dd-mm-yyyy");var a=t||new Date,n=a.getDate();n=1==n.toString().length?"0"+n:n;var r=a.getMonth()+1;r=1==r.toString().length?"0"+r:r;var l=a.getFullYear(),i=e;return e.search("dd")>=0&&(i=i.replace("dd",n)),e.search("mm")>=0&&(i=i.replace("mm",r)),e.search("yyyy")>=0&&(i=i.replace("yyyy",l)),i},X=function(e,t){return U()+" "+function(e,t){e&&""!==e||(e="HH:mm:ss");var a=t||new Date,n=a.getHours();n=1==n.toString().length?"0"+n:n;var r=a.getMinutes();r=1==r.toString().length?"0"+r:r;var l=a.getSeconds();l=1==l.toString().length?"0"+l:l;var i=e;return e.search("HH")>=0&&(i=i.replace("HH",n)),e.search("mm")>=0&&(i=i.replace("mm",r)),e.search("ss")>=0&&(i=i.replace("ss",l)),i}()},Y=function(e){return e&&""!==e?e:U("yyyy-mm-dd")},J=function(e){var t=null;if(e&&""!==e){var a=e.split("-");t=new Date(a[2]+"-"+a[1]+"-"+a[0])}return t},G=function(e){var t=null;if(e&&""!==e){e.split("-");t=new Date(e),t=U("",t)}return t},W=a(157),q=a(341),z=a(345),K=a(311),Q=a(337),$=a(313),Z=a(338),ee=a(54),te=a(158),ae=a.n(te),ne=function(e){var t=Object(W.a)({},e),a=(t.id,t.select),n=t.options,l=void 0===n?[]:n,i=t.onLoadEvent,o={};return a&&(o.children=l.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.text)})),r.a.useEffect(function(){i&&i()},[]),r.a.useEffect(function(){},[l]),r.a.createElement(q.a,Object.assign({key:"root-outlined-size-normal-"+t.name+(l?l.length:0),label:"Size",id:"outlined-size-normal",variant:"outlined"},t,o))},re=function(e){var t=e.options,a=void 0===t?[]:t,n=Object(m.a)(e,["options"]),l=n.name,i=n.label,o=n.className,c=n.variant,s=void 0===c?"outlined":c,u=n.size,d=void 0===u?"small":u,E=Object(m.a)(n,["name","label","className","variant","size"]);return r.a.createElement(K.a,{variant:s,size:d,className:o,key:a.length},r.a.createElement(z.a,{htmlFor:"outlined-native-"+l},i),r.a.createElement(Q.a,Object.assign({native:!0,IconComponent:function(){return r.a.createElement(ae.a,{style:{display:"block"}})},inputProps:{name:l,id:"outlined-native-"+l,readOnly:!0}},E),a&&a.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.text)})))},le=function(e){var t=e.name,a=e.label,n=e.control,l=e.className,i=e.inputProps;Object(m.a)(e,["name","label","control","className","inputProps"]);return r.a.createElement(ee.a,{control:n,name:t,label:a,render:function(e){var n=e.field;return r.a.createElement($.a,Object.assign({label:a,name:t,className:l},n,{control:r.a.createElement(Z.a,{inputProps:i})}))}})},ie=Object(T.a)(function(e){return{root:Object(A.a)({flexGrow:1,padding:5,width:500},"padding",20),field:{width:"100%"},select:{width:"100%",height:33,border:"1px solid #83818187",borderWidth:1,borderRadius:4,"&:focus":{outline:"none",borderColor:"#3f51b5",borderWidth:2,borderRadius:4}},actionContainer:{justifyContent:"end",display:"flex"},header:{borderBottom:"1px solid #00000036",padding:"3px 12px !important"}}}),oe=r.a.forwardRef(function(e,t){var a,n=e.anchorEl,l=void 0===n?null:n,i=e.handleClose,o=void 0===i?function(){}:i,c=e.object,s=void 0===c?"":c,u=e.fields,d=void 0===u?[]:u,m=e.onSearchEvent,E=void 0===m?function(){}:m,p=ie(),f=k.OBJECTS_LABEL[s.toUpperCase()],T=Boolean(l),v=T?"simple-popover":void 0,S=r.a.useState(se(d)),b=Object(h.a)(S,2),g=b[0],N=b[1],x=r.a.useState(ue(d,g)),A=Object(h.a)(x,2),C=A[0],D=A[1];return r.a.createElement(V.a,{id:v,open:T,anchorEl:l,onClose:function(){return o(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},style:{marginLeft:-84,marginTop:10}},r.a.createElement(O.a,{className:p.root},r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:12,className:p.header},f," Filter"),r.a.createElement(H.a,{item:!0,xs:4},r.a.createElement("select",{className:p.select,onChange:function(e){return function(e){var t=d.find(function(t){return t.dataField==e});N(t),D(ue(d,t))}(e.currentTarget.value)},title:""},d&&d.map(function(e){return r.a.createElement("option",{value:e.dataField,title:e.text},e.text)}))),r.a.createElement(H.a,{item:!0,xs:8},g&&"DATE"==g.type&&r.a.createElement(ce,{field:g,onChange:(a=g.dataField,function(e){var t=d.find(function(e){return e.dataField==a});C[a]={dataField:t.dataField,type:t.type,value:e},D(C)}),value:C[g.dataField].value})),r.a.createElement(H.a,{item:!0,xs:12,className:p.actionContainer},r.a.createElement(y.a,{onClick:function(){var e=Object.values(C);e.map(function(e){"DATE"===e.type&&(e.value=de(e.value)+" 00:00:00@@##"+me(e.value)+" 11:59:59")}),E(e)},color:"primary",variant:"outlined"}," Search ")))))}),ce=function(e){e.field;var t=e.value,a=e.onChange,n=r.a.useState(Y(de(t))),l=Object(h.a)(n,2),i=l[0],o=l[1],c=r.a.useState(Y(me(t))),s=Object(h.a)(c,2),u=s[0],d=s[1],m=r.a.useState(t),E=Object(h.a)(m,2),p=E[0],f=E[1],T=function(e){return function(t){var n=de(p),r=me(p),l=t.target.value;"fromDate"==e?(n=t.target.value,o(n)):"toDate"==e&&(r=t.target.value,d(r)),f(l=n+"@@##"+r),a(l)}};return r.a.createElement(O.a,{style:{display:"flex",justifyContent:"end"}},r.a.createElement(ne,{name:"fromDate",label:"From Date",size:"small",type:"date",defaultValue:i,onChange:T("fromDate"),style:{width:"100%"}}),r.a.createElement(O.a,{style:{width:20}}),r.a.createElement(ne,{name:"toDate",label:"To Date",size:"small",type:"date",defaultValue:u,onChange:T("toDate"),style:{width:"100%"}}))},se=function(e){var t=e.length>0?e[0]:null;return t?t={dataField:t.dataField,type:t.type}:null},ue=function(e,t){if(e&&t){var a=Y()+"@@##"+Y(),n={};return n[t.dataField]={dataField:t.dataField,type:t.type,value:a},n}return null},de=function(e){return e.split("@@##")[0]},me=function(e){var t=e.split("@@##");return t.length>1?t[1]:""},Ee=Object(B.a)(function(e){return{select:{maxWidth:"30%",border:"none",borderRight:"1px solid #83818187",marginRight:5,"&:focus":{outline:"none"}},inputParent:{width:350,border:"1px solid #83818187",margin:"7px 0px",padding:4,borderRadius:3,display:"flex"},input:{marginLeft:5,border:"none",height:"95%",width:"59%","&:focus":{outline:"none"}},searchIcon:{cursor:"pointer",marginTop:3},filterIcon:{cursor:"pointer",marginTop:3}}})(function(e){var t=e.object,a=e.classes,n=e.fields,l=e.onSearchEvent,i=n.filter(function(e){return!e.hidden&&"DATE"!==e.type&&"EMPTY"!==e.type&&"createdByName"!==e.dataField&&"modifiedByName"!==e.dataField}),o=r.a.useState(pe(i)),c=Object(h.a)(o,2),s=c[0],u=c[1],d=r.a.useState(""),m=Object(h.a)(d,2),E=m[0],p=m[1],f=r.a.useState(null),T=Object(h.a)(f,2),v=T[0],S=T[1];r.a.useEffect(function(){console.log("search-fieldName: "+s,"search-fieldValue: "+E)},[s,E]);var b=function(e){S(e?e.currentTarget:null)},g=n.filter(function(e){return!e.hidden&&"DATE"==e.type});return r.a.createElement("div",{className:a.inputParent},r.a.createElement("select",{className:a.select,onChange:function(e){return u(e.currentTarget.value)},title:E||""},i&&i.map(function(e){return r.a.createElement("option",{value:e.dataField,title:e.text},e.text)})),r.a.createElement("i",{className:"fa fa-search ".concat(a.searchIcon),"aria-hidden":"true"}),r.a.createElement("input",{style:{},className:a.input,placeholder:"Type text here....",title:"Type text here & press enter to search.",onChange:function(e){return p(e.currentTarget.value)},onKeyDown:function(e){if("Enter"===e.key&&(console.log("do validate"),l&&l instanceof Function)){var t=i.find(function(e){return e.dataField==s});l([{dataField:t.dataField,type:t.type,value:E}])}}}),g&&g.length>0&&r.a.createElement("i",{className:"fa fa-filter ".concat(a.filterIcon),"aria-hidden":"true",onClick:b,title:"Click here to open Custom Filter"}),v&&r.a.createElement(oe,{anchorEl:v,handleClose:b,object:t,fields:g,onSearchEvent:l}))}),pe=function(e){if(e){var t=e.filter(function(e){return!e.hidden});if(t.length>0)return t[0].dataField}return""},fe=a(315),he=a(265),Te=a(342),ve=Object(T.a)(function(e){return{allToolBtnContainer:{display:"flex",margin:"7px 0px"},toolBtnContainer:{marginRight:5,border:"1px solid #83818187",borderRadius:2},buttonStyle:{padding:7,marginTop:-2}}}),Se=r.a.forwardRef(function(e,t){var a=e.name,n=void 0===a?"menu":a,l=e.options,i=void 0===l?[]:l,o=e.onClick,c=void 0===o?function(){}:o,s=Object(m.a)(e,["name","options","onClick"]),u=ve(),E=r.a.useState(null),p=Object(h.a)(E,2),f=p[0],T=p[1],v=Boolean(f);r.a.useImperativeHandle(t,function(){return{handleOpen:S}});var S=function(e){T(e.currentTarget)},b=function(){T(null)},g=Object(d.a)({style:{fontSize:20}},s);return r.a.createElement("div",{className:u.toolBtnContainer},r.a.createElement(fe.a,{"aria-label":n,className:u.buttonStyle,onClick:S},r.a.createElement("i",Object.assign({className:"fa fa-ellipsis-v","aria-hidden":"true"},g))),r.a.createElement(he.a,{id:n+"-id",key:n+"-key",name:n,anchorEl:f,keepMounted:!0,open:v,onClose:b,PaperProps:{style:{maxHeight:216,width:"20ch"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},i.map(function(e){return r.a.createElement(Te.a,{key:e.value,title:e.text,selected:"Pyxis"===e,onClick:(t=e.value,function(e){b(),c(t)})},e.text);var t})))}),be=Object(T.a)(function(e){return{buttonStyle:{padding:7,marginTop:-2},toolBtnContainer:{marginLeft:5,border:"1px solid #83818187",borderRadius:2}}}),ge=function(e){var t=e.name,a=Object(m.a)(e,["name"]),n=be(),l=Object(d.a)({style:{fontSize:20}},a);if("MORE"===t){var i=l.options,o=void 0===i?[]:i,c=l.onClick,s=void 0===c?function(){}:c;return r.a.createElement(Se,{onClick:s,options:o})}return r.a.createElement("div",{className:n.toolBtnContainer},r.a.createElement(fe.a,{"aria-label":t,className:n.buttonStyle},r.a.createElement("i",Object.assign({className:ye[t],"aria-hidden":"true"},l))))},ye={ADD:"fa fa-plus",EDIT:"fa fa-pencil",DELETE:"fa fa-trash-o",EXCEL:"fa fa-file-excel-o",CSV:"fa fa-file-excel-o",PDF:"fa fa-file-pdf-o",LINK:"fa fa-link",REFRESH:"fa fa-refresh",PRINT:"fa fa-print"},Oe=Object(T.a)(function(e){return{container:{height:45,display:"flex"},leftPanel:{width:"60%",display:"flex"},rightPanel:{width:"40%"},allToolBtnContainer:{display:"flex",margin:"7px 0px"},rightAlign:{float:"right"},noteHeader:{display:"flex",background:"#f0f8ff",padding:"4px 10px",height:30,fontWeight:600,color:"#333333c7"},noteBody:{padding:"0px 10px"},toolBtnContainer:{marginLeft:5,border:"1px solid #83818187",borderRadius:2}}}),Ne=function(e){var t=e.object,a=e.icons,n=void 0===a?[]:a,l=e.search,i=e.rightElements,o=void 0===i?[]:i,c=Oe(),s=l||{},u=s.columns,d=void 0===u?[]:u,m=s.onSearchEvent,E=void 0===m?function(){}:m;return r.a.createElement(O.a,{className:c.container},r.a.createElement(O.a,{className:c.leftPanel},r.a.createElement(O.a,{className:c.allToolBtnContainer},n&&n.map(function(e){return r.a.createElement(ge,e)})),n&&n.length>0&&r.a.createElement(O.a,{style:{marginLeft:5}}),l&&r.a.createElement(Ee,{object:t,fields:d,onSearchEvent:E})),r.a.createElement(O.a,{className:c.rightPanel},r.a.createElement(O.a,{className:c.rightAlign},o)))},xe=Object(T.a)(function(e){return{allToolBtnContainer:{display:"flex",margin:"7px 0px"},toolBtnContainer:{marginRight:5,border:"1px solid #83818187",borderRadius:2},buttonStyle:{padding:7,marginTop:-2}}}),Ae=function(e,t){return r.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"inherit"}}," ",e.text," ")},Ce=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=e;!0!==e&&!1!==e||(l=new String(e));var i=n.detailLinkUrl;return i&&(l=r.a.createElement(s.b,{to:i+t.id}," ",l," ")),r.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"inherit"},title:l}," ",l," ")},De={mode:"checkbox",clickToSelect:!0,headerColumnStyle:{width:"3%"}},we=r.a.forwardRef(function(e,t){var a=e.object,n=e.columns,l=e.rows,i=void 0===l?[]:l,c=e.toolBarIcon,s=(e.getData,e.getListViewData),u=void 0===s?function(){}:s,m=e.isSearchRequired,E=void 0===m||m,p=e.wrapperClasses,f=void 0===p?"table_overflow":p,T=e.isPagingRequired,v=void 0===T||T,S=e.rowStyle,b=void 0===S?{}:S,g=xe(),y=r.a.useState([]),O=Object(h.a)(y,2),N=O[0],x=O[1],A=r.a.useState({}),C=Object(h.a)(A,2),D=(C[0],C[1],M.isDetailView()),w=D?"table_overflow-detail-view":f;r.a.useImperativeHandle(t,function(){return{getSelectedRow:function(){return N}}}),r.a.useEffect(function(){x([])},[i.length]);var _={onSizePerPageChange:function(e,t){console.log("Size per page change!!!"),console.log("Newest size per page:"+e),console.log("Newest page:"+t)},custom:!0,totalSize:i.length},I=function(e){e&&u({seacrchFields:e})},j=function(e,t,a,n){var r=Object(o.a)(N);t?r.push(e):r=r.filter(function(t){return t.id!==e.id}),x(r)},R=function(e){var t=[];return e&&(t=Object(o.a)(e),t=(t=D?t.filter(function(e){return"emptyCol"!==e.dataField}):t).map(function(e){return Object(d.a)({},e,{headerFormatter:Ae,formatter:Ce})})),t};return r.a.createElement("div",{className:"react-bootstrap-table-container",key:"list-view-"+i.length},v&&r.a.createElement(Ie,{object:a,classes:g,options:_,toolBarIcon:c,isSearchRequired:E,onSearchEvent:I,columns:n,rows:i,getColumns:R,selectedRow:N.map(function(e){return e.id}),onRowSelect:j,wrapperClasses:w,rowStyle:b}),!v&&r.a.createElement(_e,{object:a,classes:g,options:_,toolBarIcon:c,isSearchRequired:E,onSearchEvent:I,columns:n,rows:i,getColumns:R,selectedRow:N.map(function(e){return e.id}),onRowSelect:j,wrapperClasses:w,rowStyle:b}))}),_e=function(e){var t=e.key,a=void 0===t?"default-table":t,n=e.object,l=(e.classes,e.options,e.toolBarIcon),i=e.isSearchRequired,c=e.onSearchEvent,s=e.columns,u=e.rows,m=e.getColumns,E=e.selectedRow,p=e.onRowSelect,f=e.wrapperClasses,h=e.rowStyle;return r.a.createElement("div",null,l&&i&&r.a.createElement(Ne,{object:n,icons:l,search:i?{columns:s,onSearchEvent:c}:null}),r.a.createElement(D.a,{key:"list-view"+a,keyField:"id",data:Object(o.a)(u),columns:m(s),striped:!0,hover:!0,condensed:!0,selectRow:Object(d.a)({},De,{selected:E,onSelect:p}),wrapperClasses:f,rowStyle:h}))},Ie=function(e){var t=e.key,a=void 0===t?"default-table":t,n=e.object,l=(e.classes,e.options),i=e.toolBarIcon,c=e.isSearchRequired,s=e.onSearchEvent,u=e.columns,m=e.rows,E=e.getColumns,p=e.selectedRow,f=e.onRowSelect,h=e.wrapperClasses,T=e.rowStyle;return r.a.createElement(w.PaginationProvider,{pagination:_()(l)},function(e){var t=e.paginationProps,l=e.paginationTableProps;return r.a.createElement("div",null,r.a.createElement(Ne,{object:n,icons:i,search:c?{columns:u,onSearchEvent:s}:null,rightElements:[r.a.createElement(w.PaginationListStandalone,t)]}),r.a.createElement(D.a,Object.assign({key:"list-view"+a,keyField:"id",data:Object(o.a)(m),columns:E(u),striped:!0,hover:!0,condensed:!0,selectRow:Object(d.a)({},De,{selected:p,onSelect:f})},l,{wrapperClasses:h,rowStyle:T})))})},je=Object(T.a)(function(e){return{root:{flexGrow:1,padding:5},iconContainer:{border:"1px solid #838181",borderRadius:20,width:35,height:35},iconOwners:{marginLeft:8,marginTop:3,fontSize:25},iconFlatDetails:{marginLeft:9,marginTop:6},iconMaintenance:{marginLeft:6,marginTop:6},iconForAll:{marginLeft:6,marginTop:6},container:{display:"grid",gridTemplateColumns:"auto auto",fontSize:20},titleContainer:{display:"flex"},bodyContainer:{display:"flex",justifyContent:"flex-end"},label:{padding:3,fontWeight:"bold",marginLeft:5},iconSettings:{marginLeft:8,marginTop:6}}}),Re=function(e){var t=e.object,a=e.rightElements,n=void 0===a?[]:a,l=e.label,i=e.isDetailView,o=void 0!==i&&i,c=je();return r.a.createElement(O.a,null,r.a.createElement(O.a,{className:c.container},r.a.createElement(O.a,{className:c.titleContainer},r.a.createElement(O.a,{className:c.iconContainer},r.a.createElement("i",{className:"".concat(ke(t,c)," ").concat(k.ICONS[t]),"aria-hidden":"true"})),r.a.createElement(O.a,{className:c.label},l||k.OBJECTS_LABEL[t]," ",o&&"Detail View")),r.a.createElement(O.a,{className:c.bodyContainer},n)))},ke=function(e,t){return k.OBJECTS.OWNERS===e?t.iconOwners:k.OBJECTS.FLAT_DETAILS===e?t.iconFlatDetails:k.OBJECTS.PAYMENT===e||k.OBJECTS.MAINTENANCE_MASTER===e||k.OBJECTS.MAINTENANCE===e||k.OBJECTS.PAYMENT_DETAILS===e?t.iconMaintenance:k.OBJECTS.SETTINGS===e?t.iconSettings:t.iconForAll},Pe=a(98),Fe=a(122),Le=a.n(Fe),Me=a(163),Be=a(99),Ve=a(159),He=a(164),Ue=function(e){function t(e,a){var n;return Object(Pe.a)(this,t),(n=Object(Me.a)(this,Object(Be.a)(t).call(this,e))).name="HttpReqHandlerError",n.props=a,n}return Object(Ve.a)(t,e),t}(Object(He.a)(Error)),Xe=new function e(t){var a=this;Object(Pe.a)(this,e),this.setDefaultProps=function(){a.axios.defaults.headers.post["Content-Type"]="application/json"},this.postData=function(e,t){return new Promise(function(n,r){a.axios.post(e,t).then(function(e){a.processApiResponse(e,n)}).catch(function(e){a.processApiResponse(e,r)})})},this.getData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URLSearchParams({params:JSON.stringify(t)});return new Promise(function(t,r){a.axios.get(e,{params:n}).then(function(e){a.processApiResponse(e,t)}).catch(function(e,t){a.processApiResponse(e,r)})})},this.deleteData=function(e,t){return new Promise(function(n,r){a.axios.delete(e,{data:t}).then(function(e){a.processApiResponse(e,n)}).catch(function(e){a.processApiResponse(e,r)})})},this.patchData=function(e,t){return new Promise(function(n,r){a.axios.patch(e,t).then(function(e){a.processApiResponse(e,n)}).catch(function(e){a.processApiResponse(e,r)})})},this.downloadFile=function(e,t){return new Promise(function(n,r){a.axios.get(e,{params:{params:JSON.stringify(t)},responseType:"arraybuffer"}).then(function(e){var t=new window.Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"_blank")}).catch(function(e,t){a.processApiResponse(e,r)})})},this.processApiResponse=function(e,t){var n=e.status,r=e.data,l=e.message,i=e.code;if(e instanceof Ue)console.error(e,e.props),t(e.props);else if(e instanceof Fe.AxiosError)"ERR_NETWORK"===i?(console.error(e,e.props),t({httpStatusCode:401,message:l})):"ERR_BAD_REQUEST"===i&&e.response&&401==e.response.status?(a.goToLoginPage(),t({httpStatusCode:e.response.status,message:l})):(console.error(e,e.props),t({httpStatusCode:e.response.status,message:l}));else{if(200!==n)throw console.error(l),new Ue("HttpReqHandlerError",{httpStatusCode:e.response.status,message:l});if(100!==r.statusCode)throw console.error("API response error with status code: "+r.statusCode+" & Message: "+r.message),new Ue("HttpReqHandlerError",{httpStatusCode:n,statusCode:r.statusCode,message:r.message});console.log(e),t({httpStatusCode:n,statusCode:r.statusCode,message:r.message,data:r.data})}},this.goToLoginPage=function(){localStorage.removeItem("token"),localStorage.removeItem("session-id"),window.location.assign(window.location.origin+"/login")},this.axios=Le.a.create({baseURL:t,headers:{"Content-Type":"application/json"}}),this.axios.interceptors.request.use(function(e){var t=localStorage.getItem("token");e.headers.Authorization=t?"Bearer ".concat(t):"",e.headers["is-session-list-required"]=!t;var a=localStorage.getItem("session-id");return e.headers["session-id"]=a||"",e})}(P.HOST),Ye={postData:Xe.postData,getData:Xe.getData,deleteData:Xe.deleteData,patchData:Xe.patchData,downloadFile:Xe.downloadFile},Je=a(13),Ge=a(322),We=a(326),qe=a(324),ze=a(325),Ke=a(323),Qe=a(160),$e=a(318),Ze=a(319),et=Object(T.a)(function(e){return{backdrop:{zIndex:e.zIndex.modal+1,color:"#fff"}}}),tt=r.a.forwardRef(function(e,t){Object(Qe.a)(e);var a=et(),n=r.a.useState(!1),l=Object(h.a)(n,2),i=l[0],o=l[1];r.a.useImperativeHandle(t,function(){return{handleBackDrop:o}});return r.a.createElement("div",null,r.a.createElement($e.a,{className:a.backdrop,open:i,onClick:function(){o(!1)},invisible:!1},r.a.createElement(Ze.a,{color:"inherit"})))}),at=Object(n.createContext)(),nt=function(e){var t=e.children,a=e.value,n=(Object(m.a)(e,["children","value"]),r.a.useRef(null)),l=r.a.useRef(null);return r.a.createElement(at.Provider,{value:Object(d.a)({},{handleBackDrop:function(e){n.current.handleBackDrop(e)},handleDialogOpen:function(e){l.current.handleOpen(e)},handleDialogClose:function(){l.current.handleClose()}},a)},t,r.a.createElement(tt,{ref:n}),r.a.createElement(wt,{ref:l}))},rt=a(161),lt=k.FORM_CONSTANTS,it=lt.VALIDATOR_TYPE_REQUIRED,ot=(lt.VALIDATOR_TYPE_OPTIONAL,Object(T.a)(function(e){return{root:{flexGrow:1,padding:5},field:{width:"100%"}}})),ct=r.a.forwardRef(function(e,t){var a=e.onSubmit,n=e.cancelEvent,l=e.fields,i=void 0===l?[]:l,c=e.submitButton,s=void 0===c?r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Submit "):c,u=e.data,m=e.gridItemXS,E=void 0===m?6:m,T=e.externalComponent,v=void 0===T?null:T,S=ot(),b=Object(ee.d)({criteriaMode:"all"}),g=b.formState.errors,O=b.handleSubmit,N=b.setValue,x=b.getValues,A=(b.setFocus,b.watch),C=b.reset,D=r.a.useContext(at),w=D.handleBackDrop,_=D.enqueueSnackbar,I=r.a.useState(i),j=Object(h.a)(I,2),R=j[0],k=j[1];r.a.useImperativeHandle(t,function(){return{}}),r.a.useEffect(function(){var e=A(function(e,t){var a=t.name,n=t.type;console.log(e,a,n),mt(Object(d.a)({value:e,name:a,type:n,formFields:R,setFormFields:k},b))});return function(){return e.unsubscribe()}},[A]),r.a.useEffect(function(){u&&R&&R.length>0&&(console.log(11),C(Object(d.a)({},u)))},[u]);var P=function(e){return Object(f.a)(p.a.mark(function t(){var a,n,r,l;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.onLoadEventProps?e.onLoadEventProps:{},n=a.apiUrl,r=a.reqParams,!n||""===n){t.next=11;break}return w(!0),t.next=6,Ye.getData(n,r);case 6:l=t.sent,F(e,l.data),w(!1),t.next=13;break;case 11:console.log("API url not found"),_("API url not found",{variant:"error"});case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0.message),_(t.t0.message,{variant:"error"});case 19:case"end":return t.stop()}},t,null,[[0,15]])}))},F=function(e,t){var a=(e.onLoadEventProps?e.onLoadEventProps:{}).fieldNames,n=void 0===a?[]:a,r=Object(o.a)(R),l=r.find(function(t){return t.name===e.name});l&&t&&(l.options&&l.options instanceof Array&&l.options.length>0?l.options.unshift({value:"-99999",text:"-----SELECT-----"}):(l.options=[],l.options.unshift({value:"-99999",text:"-----SELECT-----"})),t.map(function(e){l.options.push({value:e[n[0]],text:e[n[1]]})}),k(r))};return r.a.createElement("div",{className:S.root},r.a.createElement(ee.b,b,r.a.createElement("form",{onSubmit:O(a)},r.a.createElement(H.a,{container:!0,className:S.formBuilderContainer},r.a.createElement(H.a,{container:!0,spacing:3},R.filter(function(e){return!e.isHeaden}).map(function(e,t){return r.a.createElement(H.a,{key:e.name,item:!0,xs:E},"empty"!==e.name&&r.a.createElement(st,{field:e,errors:g,setValue:N,getValues:x,onLoadEvent:P,autoFocus:0==t}))})),v,r.a.createElement(H.a,{container:!0,spacing:3,style:{marginTop:10}},r.a.createElement(H.a,{item:!0,xs:8}),r.a.createElement(H.a,{item:!0,xs:4,style:{textAlign:"right",display:"grid",columnGap:10,gridTemplateColumns:"auto auto"}},n&&r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:n}," Cancel "),s))))))}),st=function(e){var t=e.errors,a=e.field,n=(e.setValue,e.getValues,e.onLoadEvent),l=e.autoFocus,i=ot(),o=Object(ee.e)().register,c=Object(ee.d)().control,s={autoFocus:l};if("DATE"==a.type)s.type="date",s.defaultValue=Y();else if("LIST"==a.type){s.select=!0,s.SelectProps={native:!0},a.onLoadEventProps&&(s.onLoadEvent=n(a)),s.options=a.options?a.options:[];var u=a.defaultValue;if(u.indexOf("$$INDEX-")>=0&&a.options){var d=(u=u.replaceAll("$$INDEX-","")).replaceAll("$$","");d=parseInt(d),s.defaultValue=a.options[d].value}}else"LONG_TEXT"==a.type&&(s.multiline=!0,s.minRows=5);return r.a.createElement(r.a.Fragment,null,("NUMBER"==a.type||"TEXT"==a.type||"PHONE"==a.type||"EMAIL"==a.type||"LONG_TEXT"==a.type||"LIST"==a.type||"DATE"==a.type)&&r.a.createElement(ne,Object.assign({key:"outlined-size-small-"+a.name,id:"outlined-size-small-"+a.name,name:a.name,label:a.label,defaultValue:a.defaultValue,variant:"outlined",size:"small",className:i.field,inputProps:o(a.name,ut(a))},s)),"CHECK_BOX"==a.type&&r.a.createElement(le,Object.assign({key:"outlined-size-small"+a.name,id:"outlined-size-small"+a.name,name:"outlined-size-small"+a.name,label:a.label,className:i.field,control:c,inputProps:o(a.name,ut(a))},s)),r.a.createElement(rt.a,{errors:t,name:a.name,render:function(e){var a=e.messages;e.message;return console.log("errors",t),console.log("messages",a),r.a.createElement(r.a.Fragment,null,a?Object.entries(a).map(function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{key:a,style:{color:"red"}},n)}):null)}}))},ut=function(e){var t=e.type,a=e.validationType,n={};return n="NUMBER"==t?dt.number:"TEXT"==t?dt.text:"PHONE"==t?dt.phone:"EMAIL"==t?dt.email:"CHECK_BOX"==t?{required:"This input is required 111."}:dt.text,n=Object(d.a)({},n),a!==it&&delete n.required,n},dt={text:{required:"This input is required."},number:{required:"This input is required.",pattern:{value:/^[0-9\b]+$/,message:"This input is number only."}},phone:{required:"This input is required.",pattern:{value:/^[0-9\b]+$/,message:"This input is number only."},minLength:{value:10,message:"This input min 10 characters"},maxLength:{value:10,message:"This input max 10 characters"}},email:{required:"This input is required.",pattern:{value:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,message:"This input is email only."}}},mt=function(e){var t,a=e.value,n=e.name,r=(e.type,e.formFields);if(((t=r)?t.filter(function(e){return e.watch}).map(function(e){return e.name}):[]).indexOf(n)>-1){var l=r.find(function(e){return e.name==n});l&&l.watch.callback(Object(d.a)({field:l},e,{value:a[n]}))}},Et=a(340),pt=a(321),ft=a(320),ht=a(314),Tt=a(162),vt=a.n(Tt),St=(a(5),Object(T.a)(function(e){return{root:{width:"100%"},heading:{fontSize:"inherit",flexBasis:"33.33%",flexShrink:0},secondaryHeading:{color:e.palette.text.secondary},expanded:{margin:5}}})),bt=function(e){var t=e.list,a=void 0===t?[]:t,n=St(),l=r.a.useState(!1),i=Object(h.a)(l,2),o=i[0],c=i[1],s=function(e){return function(t,a){c(!!a&&e)}};return r.a.createElement("div",{className:n.root},a&&a.map(function(e){return r.a.createElement(gt,{expanded:o,handleChange:s,props:e},r.a.createElement("div",null,"PPP"))}))},gt=function(e){var t=e.expanded,a=e.handleChange,n=e.props,l=St(),i=n.name,o=n.summary,c=n.children,s=o.heading,u=o.secondaryHeading;return r.a.createElement(Et.a,{expanded:t===i,onChange:a(i)},r.a.createElement(ft.a,{expandIcon:r.a.createElement(vt.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(ht.a,{className:l.heading},s),r.a.createElement(ht.a,{className:l.secondaryHeading},u)),r.a.createElement(pt.a,null,r.a.createElement(O.a,{style:{width:"100%"}},c)))},yt=k.FORM_CONSTANTS,Ot=(yt.VALIDATOR_TYPE_REQUIRED,yt.VALIDATOR_TYPE_OPTIONAL,Object(T.a)(function(e){return{root:{flexGrow:1},field:{width:"100%"}}})),Nt=(r.a.forwardRef(function(e,t){var a=e.data,n=void 0===a?[]:a,l={index:0,itemHead:"",amount:0},i=r.a.useState([l]),c=Object(h.a)(i,2),s=c[0],u=c[1],m=r.a.useState(1),E=Object(h.a)(m,2),p=E[0],f=E[1];r.a.useImperativeHandle(t,function(){return{getItemsValues:function(){return s}}}),r.a.useEffect(function(){if(n&&n.length>0){var e=n.map(function(e,t){return{index:t,itemHead:e.itemHead,amount:e.amount}});u(e),f(e.length)}},[n]);var T=function(e){return function(){u(s.filter(function(t){return t.index!==e}))}},v=function(e,t){return function(a){var n=s.find(function(t){return t.index===e});n?n[t]=a.target.value:((n={index:e})[t]=a.target.value,s.push(n)),u(Object(o.a)(s))}};return r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:function(){s.push(Object(d.a)({},l,{index:p})),f(p+1),u(Object(o.a)(s))}}," Add ")),s.map(function(e){return r.a.createElement(Nt,Object.assign({},e,{removeItem:T,setValue:v}))}))}),function(e){var t=e.index,a=e.itemHead,n=e.amount,l=e.removeItem,i=void 0===l?function(){return function(){}}:l,o=e.setValue,c=void 0===o?function(){return function(){}}:o,s=Ot();return r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(H.a,{container:!0,spacing:3,key:"item-"+t},r.a.createElement(H.a,{item:!0,xs:6},r.a.createElement(ne,{name:"itemHead",label:"Item Head-"+t,size:"small",className:s.field,onChange:c(t,"itemHead"),value:a})),r.a.createElement(H.a,{item:!0,xs:3},r.a.createElement(ne,{name:"amount",label:"Amount",size:"small",className:s.field,onChange:c(t,"amount"),value:n})),r.a.createElement(H.a,{item:!0,xs:3},r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:i(t)}," Remove "))))}),xt=r.a.forwardRef(function(e,t){var a=e.object,n=void 0===a?"":a,l=e.fields,i=void 0===l?[]:l,o=e.handleClose,c=void 0===o?function(){}:o,s=e.submitButton,u=void 0===s?r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Save "):s,d=e.id,E=void 0===d?0:d,T=e.isValidFormData,v=e.callbackOnSubmit,S=Object(m.a)(e,["object","fields","handleClose","submitButton","id","isValidFormData","callbackOnSubmit"]),b=Object(Je.b)().enqueueSnackbar,g=r.a.useContext(at),O=g.handleBackDrop,N=(g.handleDialogOpen,r.a.useState(JSON.parse(JSON.stringify(i)))),x=Object(h.a)(N,2),A=x[0],C=(x[1],r.a.useState()),D=Object(h.a)(C,2),w=D[0],_=D[1];r.a.useImperativeHandle(t,function(){return{}}),r.a.useEffect(function(){E&&E>0&&I(E)},[E]);var I=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,Ye.getData(M.getGETApiUrl(n)+t,null);case 4:a=e.sent,_(a.data),O(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),e.prev=1,!(T&&T instanceof Function)||T(t)){e.next=4;break}return e.abrupt("return",!1);case 4:return O(!0),a="Successfully saved.",E&&E>0&&(t.id=E,a="Successfully updated."),e.next=9,Ye.postData(M.getFormPOSTApiUrl(n),t);case 9:r=e.sent,console.log(r.data),b(a,{variant:"success"}),v&&v instanceof Function&&v(r.data),O(!1),c(),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0.message),b(e.t0.message,{variant:"error"}),O(!1);case 22:case"end":return e.stop()}},e,null,[[1,17]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ct,Object.assign({fields:A,data:w,onSubmit:j,cancelEvent:c,submitButton:u},S))))}),At=function(e){var t=e.object,a=Object(m.a)(e,["object"]);a.fields;return r.a.createElement(xt,Object.assign({key:t,object:t},a))},Ct={getContent:function(e){var t=e.type,a=e.object,n=Object(m.a)(e,["type","object"]),r=null;return"FORM"==t&&(r=At(Object(d.a)({object:a},n))),r}},Dt=Object(T.a)(function(e){return{root:{width:500}}}),wt=r.a.forwardRef(function(e,t){var a=e.children,n=e.maxWidth,l=e.requiredCancelBtn,i=void 0!==l&&l,o=e.requiredOKBtn,c=void 0===o||o,s=e.actions,u=void 0===s?[]:s,E=(Dt(),r.a.useState(!1)),p=Object(h.a)(E,2),f=p[0],T=p[1],v={title:null,contentText:null,component:null,maxWidth:"xs",type:C},S=r.a.useState(v),b=Object(h.a)(S,2),g=b[0],O=b[1],N=g.title,x=g.contentText,A=g.component,C=g.type;r.a.useImperativeHandle(t,function(){return{handleOpen:D,handleClose:w}});var D=function(e){var t=e.title,a=e.contentText,n=e.component,r=Object(m.a)(e,["title","contentText","component"]);T(!0),O(Object(d.a)({},g,{title:t,contentText:a,component:n},r))},w=function(){T(!1),O(v)};return r.a.createElement("div",null,f&&r.a.createElement(Ge.a,{open:f,onClose:function(){},"aria-labelledby":"form-dialog-title",maxWidth:n,fullWidth:!0},N&&r.a.createElement(Ke.a,{id:"form-dialog-title"},N),(a||x||A||"FORM"==C)&&r.a.createElement(qe.a,null,x&&r.a.createElement(ze.a,null," ",x," "),a,A&&A,"FORM"==C&&Ct.getContent(g)),"FORM"!=C&&r.a.createElement(We.a,null,function(){var e=[],t=!1;g&&g.hasOwnProperty("requiredCancelBtn")?g.requiredCancelBtn&&(t=!0):i&&(t=!0),t&&e.push(r.a.createElement(y.a,{onClick:w,color:"primary",variant:"outlined"},"    Cancel    "));var a=!1;return g&&g.hasOwnProperty("requiredOKBtn")?g.requiredOKBtn&&(a=!0):c&&(a=!0),a&&e.push(r.a.createElement(y.a,{onClick:w,color:"primary",variant:"outlined"}," OK ")),e}(),u)))}),_t=Object(T.a)(function(e){return{root:{width:500}}}),It=r.a.forwardRef(function(e,t){var a=e.clickEvent,n=(_t(),r.a.useState(!1)),l=Object(h.a)(n,2),i=l[0],o=l[1],c=r.a.useState({title:"",contentText:"",event:function(){}}),s=Object(h.a)(c,2),u=s[0],d=s[1],m=u.title,E=u.contentText,p=u.event;r.a.useImperativeHandle(t,function(){return{handleOpen:f}});var f=function(e){var t=e.title,a=e.contentText,n=e.callback;d({title:t,contentText:a,event:n}),o(!0)},T=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(Ge.a,{open:i,onClose:T,"aria-labelledby":"form-dialog-title",maxWidth:"xs",fullWidth:!0},m&&r.a.createElement(Ke.a,{id:"form-dialog-title"},m),r.a.createElement(qe.a,null,E&&r.a.createElement(ze.a,null," ",E," ")),r.a.createElement(We.a,null,r.a.createElement(y.a,{onClick:T,color:"primary"},"    Cancel    "),r.a.createElement(y.a,{onClick:function(){a&&a(),p&&p(),T()},color:"primary"},"OK"))))}),jt=k.FORM_CONSTANTS,Rt=jt.VALIDATOR_TYPE_REQUIRED,kt=(jt.VALIDATOR_TYPE_OPTIONAL,Object(T.a)(function(e){return{root:{flexGrow:1}}})),Pt=(r.a.forwardRef(function(e,t){var a=e.getListViewData,n=kt(),l=Object(Je.b)().enqueueSnackbar,i=r.a.useState(0),o=Object(h.a)(i,2),c=o[0],s=o[1],u=r.a.useState(),d=Object(h.a)(u,2),m=d[0],E=d[1],T=r.a.useContext(at).handleBackDrop;r.a.useImperativeHandle(t,function(){return{handleOpen:O}});var v=r.a.useState(!1),S=Object(h.a)(v,2),b=S[0],g=S[1];r.a.useEffect(function(){(!c||c<=0)&&E(null)},[c]);var O=function(e){s(e),g(!0),e&&e>0&&N(e)},N=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),e.next=4,Ye.getData(P.EVENTS_GET+t,null);case 4:a=e.sent,E(a.data),T(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),x=function(){g(!1)},A=function(){var e=Object(f.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,T(!0),n="Successfully saved.",c&&c>0&&(t.id=c,n="Successfully updated."),e.next=7,Ye.postData(P.EVENTS_CREATE_OR_UPDATE,t);case 7:r=e.sent,console.log(r.data),T(!1),a(),l(n,{variant:"success"}),x(),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0.message),l(e.t0.message,{variant:"error"}),T(!1);case 20:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:n.root},b&&r.a.createElement(Ge.a,{open:b},r.a.createElement(Ke.a,{id:"form-dialog-title"},"Add Events"),r.a.createElement(qe.a,null,r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ct,{fields:Pt,data:m,onSubmit:A,cancelEvent:x,submitButton:r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Save ")}))))))}),[{name:"name",label:"Name",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:Rt},{name:"description",label:"Description",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:Rt},{name:"targetAmount",label:"Target Amount",defaultValue:"",type:"NUMBER",isHeaden:!1,validationType:Rt},{name:"amountPerFlat",label:"Amount Per Flat",defaultValue:"",type:"NUMBER",isHeaden:!1,validationType:Rt}]),Ft=k.FORM_CONSTANTS,Lt=Ft.VALIDATOR_TYPE_REQUIRED,Mt=(Ft.VALIDATOR_TYPE_OPTIONAL,function(){var e=Object(Je.b)().enqueueSnackbar,t=r.a.useRef(null),a=r.a.useRef(null),n=r.a.useRef(null),l=r.a.useContext(at),i=l.handleBackDrop,o=l.handleDialogOpen,c=l.handleDialogClose,s=r.a.useState([]),u=Object(h.a)(s,2),m=u[0],E=u[1];r.a.useEffect(function(){T()},[]);var T=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,Ye.getData(P.EVENTS_LIST_VIEW_GET,t);case 3:a=e.sent,E(a.data),i(!1);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var a=Object(f.a)(p.a.mark(function a(){var n,r,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=t.current.getSelectedRow(),r=n.map(function(e){return e.id}),a.next=5,Ye.deleteData(P.EVENTS_DELETE_BATCH,r);case 5:l=a.sent,console.log(l.data),T(),e("This is a success message!",{variant:"success"}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0.message),e(a.t0.message,{variant:"error"});case 15:case"end":return a.stop()}},a,null,[[0,11]])}));return function(){return a.apply(this,arguments)}}(),S=[{name:"ADD",title:"Add Owners",onClick:function(){o(Object(d.a)({},Ut,{handleClose:c,callbackOnSubmit:function(e){return T()}}))}},{name:"EDIT",title:"Edit Owners",onClick:function(){var e=t.current.getSelectedRow();e&&1==e.length?o(Object(d.a)({},Ut,{handleClose:c,callbackOnSubmit:function(e){return T()},id:e[0].id})):a.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"})}},{name:"DELETE",title:"Delete Owners",onClick:function(){var e=t.current.getSelectedRow();e&&e.length>0?n.current.handleOpen({title:"Confirmation Dialog",contentText:"Are you confirm to delet data?"}):a.current.handleOpen({title:"Information Dialog",contentText:"Please select one or more record!"})}},{name:"PDF",title:"Export to .pdf file",onClick:function(){}},{name:"CSV",title:"Export to .csv file",onClick:function(){var e=Vt.filter(function(e){return!e.hidden}).map(function(e){return{name:e.dataField,label:e.text}});M.downloadCSVFile("event-list-view-"+X(),e,m,{isSerial:!0})}},{name:"MORE",title:"More options",onClick:function(){var n=Object(f.a)(p.a.mark(function n(r){var l,o;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"ACTIVE"!=r&&"IN-ACTIVE"!=r){n.next=14;break}if(!(l=t.current.getSelectedRow())||1!=l.length){n.next=13;break}return i(!0),o="ACTIVE"==r?P.EVENTS_ACTIVE:P.EVENTS_INACTIVE,n.next=8,Ye.getData(o+l[0].id);case 8:n.sent,i(!1),T(),n.next=14;break;case 13:a.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"});case 14:n.next=20;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0.message),e(n.t0.message,{variant:"error"});case 20:case"end":return n.stop()}},n,null,[[0,16]])}));return function(e){return n.apply(this,arguments)}}(),options:[{value:"ACTIVE",text:"ACTIVE"},{value:"IN-ACTIVE",text:"IN-ACTIVE"}]}];return r.a.createElement("div",{style:{padding:10}},r.a.createElement(wt,{ref:a,maxWidth:"xs"}),r.a.createElement(It,{ref:n,clickEvent:v}),r.a.createElement(Re,{object:k.OBJECTS.EVENTS}),r.a.createElement(we,{ref:t,object:k.OBJECTS.EVENTS,columns:Bt(Vt),rows:m,toolBarIcon:S,getListViewData:T}))}),Bt=function(e){if(e){var t=Object(o.a)(e);return t.forEach(function(e,t){"name"==e.dataField&&(e.formatExtraData={detailLinkUrl:"/"+k.OBJECTS.EVENTS.toLowerCase()+"/detail_view/"},e.events={onClick:function(e,t,a,n,r){console.log(e),console.log(t),console.log(a),console.log(n),console.log(r)},onMouseEnter:function(e,t,a,n,r){console.log(e),console.log(t),console.log(a),console.log(n),console.log(r),console.log("onMouseEnter on Product ID field")}})}),t}return e},Vt=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},Object(A.a)({dataField:"name",text:"Name",type:"TEXT",sort:!0,headerStyle:{width:20},headerAttrs:{title:"Name"}},"headerStyle",{width:200}),{dataField:"description",text:"Description",type:"TEXT",sort:!0,headerAttrs:{title:"Description"},headerStyle:{width:150}},{dataField:"targetAmount",text:"Target Amount",type:"TEXT",sort:!0,headerAttrs:{title:"Target Amount"},headerStyle:{width:120}},{dataField:"amountPerFlat",text:"Amount Per Flat",type:"NUMBER",sort:!0,headerAttrs:{title:"Amount Per Flat"},headerStyle:{width:120}},{dataField:"isActive",text:"Is Active",type:"TEXT",sort:!0,headerAttrs:{title:"Is Active"},headerStyle:{width:80},style:{width:80}},{dataField:"createdByName",text:"Created By",type:"TEXT",sort:!0,headerAttrs:{title:"Created By"},headerStyle:{width:150}},{dataField:"createdDate",text:"Created Date",type:"DATE",sort:!0,headerAttrs:{title:"Created Date"},headerStyle:{width:150},style:{width:150}},{dataField:"modifiedByName",text:"Modified By",type:"TEXT",sort:!0,headerAttrs:{title:"Modified By"},headerStyle:{width:150}},{dataField:"modifiedDate",text:"Updated Date",type:"DATE",sort:!0,headerAttrs:{title:"Updated Date"},headerStyle:{width:150},style:{width:150}}],Ht=[{name:"name",label:"Name",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:Lt},{name:"description",label:"Description",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:Lt},{name:"targetAmount",label:"Target Amount",defaultValue:"",type:"NUMBER",isHeaden:!1,validationType:Lt},{name:"amountPerFlat",label:"Amount Per Flat",defaultValue:"",type:"NUMBER",isHeaden:!1,validationType:Lt}],Ut={title:"Add/Edit Events",contentText:"",maxWidth:"xs",type:"FORM",object:k.OBJECTS.EVENTS,fields:Ht},Xt=k.FORM_CONSTANTS,Yt=Xt.VALIDATOR_TYPE_REQUIRED,Jt=Xt.VALIDATOR_TYPE_OPTIONAL,Gt=Object(T.a)(function(e){return{root:{flexGrow:1},field:{width:"100%"}}}),Wt=r.a.forwardRef(function(e,t){var a=e.getListViewData,n=Gt(),l=Object(Je.b)().enqueueSnackbar,i=r.a.useState(0),s=Object(h.a)(i,2),u=s[0],d=s[1],m=r.a.useState(),E=Object(h.a)(m,2),T=E[0],v=E[1],S=r.a.useRef(null),b=r.a.useContext(at).handleBackDrop,g=M.isDetailView(),O=Object(c.h)();r.a.useImperativeHandle(t,function(){return{handleOpen:D}});var N=r.a.useState(!1),x=Object(h.a)(N,2),A=x[0],C=x[1];r.a.useEffect(function(){(!u||u<=0)&&v(null)},[u]);var D=function(e){d(e),C(!0),e&&e>0&&w(e)},w=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,Ye.getData(P.EXPENSES_GET+t,null);case 4:a=e.sent,v(a.data),b(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),_=function(){C(!1)},I=function(e){var t=!0;return e?e.map(function(e){t&&(!e.itemHead||""===e.itemHead||!e.amount||e.amount<=0)&&(t=!1)}):t=!1,t},j=function(){var e=Object(f.a)(p.a.mark(function e(t){var n,r,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),e.prev=1,!((n=S.current.getItemsValues()).length<=0)){e.next=8;break}return l("Item Heads not found. Please add at least one.",{variant:"error"}),e.abrupt("return");case 8:if(I(n)){e.next=11;break}return l("Please check Item Heads",{variant:"error"}),e.abrupt("return");case 11:return b(!0),r="Successfully saved.",u&&u>0&&(t.id=u,r="Successfully updated."),t.items=n,g&&(t.eventId=O.id),e.next=18,Ye.postData(P.EXPENSES_CREATE_OR_UPDATE,t);case 18:i=e.sent,console.log(i.data),b(!1),a(),l(r,{variant:"success"}),_(),e.next=31;break;case 26:e.prev=26,e.t0=e.catch(1),console.log(e.t0.message),l(e.t0.message,{variant:"error"}),b(!1);case 31:case"end":return e.stop()}},e,null,[[1,26]])}));return function(t){return e.apply(this,arguments)}}(),R=[{name:"itemHeads",summary:{heading:"Item Heads",secondaryHeading:""},children:r.a.createElement(zt,{ref:S,data:T?T.items:[]})}];return r.a.createElement("div",{className:n.root},r.a.createElement(Ge.a,{open:A},r.a.createElement(Ke.a,{id:"form-dialog-title"},"Add Expense"),r.a.createElement(qe.a,null,r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ct,{fields:function(e){var t=Object(o.a)(e);return t.find(function(e){return"eventId"==e.name}).isHeaden=!!g,t}(qt),data:T,onSubmit:j,cancelEvent:_,submitButton:r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Save "),gridItemXS:6,externalComponent:r.a.createElement(bt,{list:R})}))))))}),qt=[{name:"title",label:"Title",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:Yt},{name:"accountNo",label:"A/C",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:Jt},{name:"description",label:"Description",defaultValue:"",type:"LONG_TEXT",isHeaden:!1,validationType:Jt},{name:"paymentMode",label:"Payment Mode",defaultValue:"",type:"LIST",isHeaden:!1,validationType:Yt,options:[{value:"CASH",text:"CASH"},{value:"CHEQUE",text:"CHEQUE"},{value:"ONLINE",text:"ONLINE"}]},{name:"expenseDate",label:"Expense Date",defaultValue:"",type:"DATE",isHeaden:!1,validationType:Yt},{name:"eventId",label:"Event",defaultValue:"",type:"LIST",isHeaden:!1,validationType:Yt,options:[],onLoadEventProps:{apiUrl:P.EVENTS_LIST_GET,reqParams:{},fieldNames:["id","name"]}}],zt=r.a.forwardRef(function(e,t){var a=e.data,n=void 0===a?[]:a,l={index:0,itemHead:"",amount:0},i=r.a.useState([l]),c=Object(h.a)(i,2),s=c[0],u=c[1],m=r.a.useState(1),E=Object(h.a)(m,2),p=E[0],f=E[1];r.a.useImperativeHandle(t,function(){return{getItemsValues:function(){return s}}}),r.a.useEffect(function(){if(n&&n.length>0){var e=n.map(function(e,t){return{index:t,itemHead:e.itemHead,amount:e.amount}});u(e),f(e.length)}},[n]);var T=function(e){return function(){u(s.filter(function(t){return t.index!==e}))}},v=function(e,t){return function(a){var n=s.find(function(t){return t.index===e});n?n[t]=a.target.value:((n={index:e})[t]=a.target.value,s.push(n)),u(Object(o.a)(s))}};return r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:function(){s.push(Object(d.a)({},l,{index:p})),f(p+1),u(Object(o.a)(s))}}," Add ")),s.map(function(e){return r.a.createElement(Kt,Object.assign({},e,{removeItem:T,setValue:v}))}))}),Kt=function(e){var t=e.index,a=e.itemHead,n=e.amount,l=e.removeItem,i=void 0===l?function(){return function(){}}:l,o=e.setValue,c=void 0===o?function(){return function(){}}:o,s=Gt();return r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(H.a,{container:!0,spacing:3,key:"item-"+t},r.a.createElement(H.a,{item:!0,xs:6},r.a.createElement(ne,{name:"itemHead",label:"Item Head-"+t,size:"small",className:s.field,onChange:c(t,"itemHead"),value:a})),r.a.createElement(H.a,{item:!0,xs:3},r.a.createElement(ne,{name:"amount",label:"Amount",size:"small",className:s.field,onChange:c(t,"amount"),value:n})),r.a.createElement(H.a,{item:!0,xs:3},r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:i(t)}," Remove "))))},Qt={};Qt[k.OBJECTS.FLAT_DETAILS]=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0,headerAttrs:{title:"ID"},headerStyle:{width:150},style:{width:150}},{dataField:"flatNo",text:"Flat Number",type:"TEXT",sort:!0,headerAttrs:{title:"Flat Number"},headerStyle:{width:150},style:{width:150}},{dataField:"block",text:"Block",type:"TEXT",sort:!0,headerAttrs:{title:"Block"},headerStyle:{width:150},style:{width:150}},{dataField:"flatSizeSqft",text:"Square Foot",type:"NUMBER",sort:!0,headerAttrs:{title:"Square Foot"},headerStyle:{width:150},style:{width:150}},{dataField:"noOfRooms",text:"No of Rooms",type:"NUMBER",sort:!0,headerAttrs:{title:"No of Rooms"},headerStyle:{width:150},style:{width:150}},{dataField:"floorNo",text:"Floor No",type:"NUMBER",sort:!0,headerAttrs:{title:"Floor No"},headerStyle:{width:150},style:{width:150}},{dataField:"maintenanceAmount",text:"Maintenance Amount",type:"NUMBER",sort:!0,headerAttrs:{title:"Maintenance Amount"},headerStyle:{width:150},style:{width:150}},{dataField:"createdDate",text:"Created Date",type:"DATE",sort:!0,headerAttrs:{title:"Created Date"},headerStyle:{width:150},style:{width:150}},{dataField:"createdByName",text:"Created By",type:"TEXT",sort:!0,headerAttrs:{title:"Created By"},headerStyle:{width:150},style:{width:150}},{dataField:"modifiedDate",text:"Updated Date",type:"DATE",sort:!0,headerAttrs:{title:"Updated Date"},headerStyle:{width:150},style:{width:150}},{dataField:"modifiedByName",text:"Modified By",type:"TEXT",sort:!0,headerAttrs:{title:"Modified By"},headerStyle:{width:150},style:{width:150}}],Qt[k.OBJECTS.PAYMENT]=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},{dataField:"flatNo",text:"Flat No",type:"TEXT",headerStyle:{width:50},headerAttrs:{title:"Flat No"},keyConstraints:"FK"},{dataField:"amount",text:"Amount",type:"NUMBER",headerStyle:{width:60},headerAttrs:{title:"Amount"}},{dataField:"paymentMode",text:"Payment Mode",type:"TEXT",sort:!0,headerStyle:{width:100},headerAttrs:{title:"Payment Mode"}},{dataField:"paymentModeRef",text:"Payment Mode Ref.",type:"TEXT",sort:!0,headerStyle:{width:130},headerAttrs:{title:"Payment Mode Ref."}},{dataField:"paymentDate",text:"Payment Date",type:"DATE",sort:!0,headerStyle:{width:100},headerAttrs:{title:"Payment Date"}},{dataField:"remarks",text:"Remarks",type:"TEXT",sort:!0,headerStyle:{width:250},headerAttrs:{title:"Remarks"}},{dataField:"isCanceled",text:"Is Canceled",type:"BOOLEAN",sort:!0,headerStyle:{width:80},headerAttrs:{title:"Is Canceled"}},{dataField:"cancelRemarks",text:"Cancel Remarks",type:"TEXT",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Cancel Remarks"}},{dataField:"billNo",text:"Bill No.",type:"NUMBER",headerStyle:{width:50},headerAttrs:{title:"Bill No."}},{dataField:"createdDate",text:"Created Date",type:"DATE",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Created Date"}},{dataField:"createdByName",text:"Created By",type:"TEXT",sort:!0,headerStyle:{width:100},headerAttrs:{title:"Created By"},keyConstraints:"FK"}],Qt[k.OBJECTS.EXPENSES]=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},Object(A.a)({dataField:"title",text:"Title",type:"TEXT",sort:!0,headerStyle:{width:20},headerAttrs:{title:"Title"}},"headerStyle",{width:150}),Object(A.a)({dataField:"amount",text:"Amount",type:"TEXT",sort:!0,headerStyle:{width:20},headerAttrs:{title:"Amount"}},"headerStyle",{width:60}),{dataField:"paymentMode",text:"Payment Mode",type:"TEXT",sort:!0,headerStyle:{width:100},headerAttrs:{title:"Payment Mode"}},{dataField:"description",text:"Description",type:"TEXT",sort:!0,headerAttrs:{title:"Description"},headerStyle:{width:250}},{dataField:"voucherNo",text:"Voucher No",type:"TEXT",sort:!0,headerAttrs:{title:"Voucher No"},headerStyle:{width:100}},{dataField:"expenseDate",text:"Expense Date",type:"DATE",sort:!0,headerAttrs:{title:"Expense Date"},headerStyle:{width:150},style:{width:150}},{dataField:"eventName",text:"Event Name",type:"TEXT",sort:!0,headerAttrs:{title:"Event Name"},headerStyle:{width:150}},{dataField:"createdDate",text:"Created Date",type:"DATE",sort:!0,headerAttrs:{title:"Created Date"},headerStyle:{width:150},style:{width:150}},{dataField:"createdByName",text:"Created By",type:"TEXT",sort:!0,headerAttrs:{title:"Created By"},headerStyle:{width:150},style:{width:150}},{dataField:"modifiedDate",text:"Modified Date",type:"DATE",sort:!0,headerAttrs:{title:"Modified Date"},headerStyle:{width:150},style:{width:150}},{dataField:"modifiedByName",text:"Modified By",type:"TEXT",sort:!0,headerAttrs:{title:"Modified By"},headerStyle:{width:150},style:{width:150}}],Qt[k.OBJECTS.EXPENSE_HEAD]=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},Object(A.a)({dataField:"title",text:"Title",type:"TEXT",sort:!0,headerStyle:{width:20},headerAttrs:{title:"Title"}},"headerStyle",{width:200}),{dataField:"description",text:"Description",type:"TEXT",sort:!0,headerAttrs:{title:"Description"},headerStyle:{width:340}},{dataField:"createdDate",text:"Created Date",type:"DATE",sort:!0,headerAttrs:{title:"Created Date"},headerStyle:{width:150},style:{width:150}},{dataField:"createdByName",text:"Created By",type:"TEXT",sort:!0,headerAttrs:{title:"Created By"},headerStyle:{width:150},style:{width:150}},{dataField:"modifiedDate",text:"Modified Date",type:"DATE",sort:!0,headerAttrs:{title:"Modified Date"},headerStyle:{width:150},style:{width:150}},{dataField:"modifiedByName",text:"Modified By",type:"TEXT",sort:!0,headerAttrs:{title:"Modified By"},headerStyle:{width:150},style:{width:150}}],Qt[k.OBJECTS.EVENTS]=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},Object(A.a)({dataField:"name",text:"Name",type:"TEXT",sort:!0,headerStyle:{width:20},headerAttrs:{title:"Name"}},"headerStyle",{width:200}),{dataField:"description",text:"Description",type:"TEXT",sort:!0,headerAttrs:{title:"Description"},headerStyle:{width:150}},{dataField:"targetAmount",text:"Target Amount",type:"TEXT",sort:!0,headerAttrs:{title:"Target Amount"},headerStyle:{width:120}},{dataField:"amountPerFlat",text:"Amount Per Flat",type:"NUMBER",sort:!0,headerAttrs:{title:"Amount Per Flat"},headerStyle:{width:120}},{dataField:"type",text:"Type",type:"TEXT",sort:!0,headerAttrs:{title:"Type"},headerStyle:{width:100},style:{width:150}},{dataField:"parentEventName",text:"Parent Event Name",type:"TEXT",sort:!0,headerAttrs:{title:"Parent Event Name"},headerStyle:{width:100}},{dataField:"isActive",text:"Is Active",type:"TEXT",sort:!0,headerAttrs:{title:"Is Active"},headerStyle:{width:80},style:{width:80}},{dataField:"createdByName",text:"Created By",type:"TEXT",sort:!0,headerAttrs:{title:"Created By"},headerStyle:{width:150}},{dataField:"createdDate",text:"Created Date",type:"DATE",sort:!0,headerAttrs:{title:"Created Date"},headerStyle:{width:150},style:{width:150}},{dataField:"modifiedByName",text:"Modified By",type:"TEXT",sort:!0,headerAttrs:{title:"Modified By"},headerStyle:{width:150}},{dataField:"modifiedDate",text:"Updated Date",type:"DATE",sort:!0,headerAttrs:{title:"Updated Date"},headerStyle:{width:150},style:{width:150}}],Qt[k.OBJECTS.OWNERS]=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},{dataField:"firstName",text:"First Name",type:"TEXT",sort:!0,headerAttrs:{title:"First Name"},headerStyle:{width:142}},{dataField:"lastName",text:"Last Name",type:"TEXT",sort:!0,headerAttrs:{title:"Last Name"},headerStyle:{width:150}},{dataField:"contactNo1",text:"Phone 1",type:"TEXT",sort:!0,headerAttrs:{title:"Phone 1"},headerStyle:{width:100},style:{width:100}},{dataField:"contactNo2",text:"Phone 2",type:"TEXT",sort:!0,headerAttrs:{title:"Phone 2"},headerStyle:{width:100},style:{width:100}},{dataField:"emailId",text:"Email",type:"TEXT",sort:!0,headerAttrs:{title:"Email"},headerStyle:{width:100}},{dataField:"userAddress",text:"User Address",type:"TEXT",sort:!0,headerAttrs:{title:"User Address"},headerStyle:{width:100}},{dataField:"createdDate",text:"Created Date",type:"DATE",sort:!0,headerAttrs:{title:"Created Date"},headerStyle:{width:120}},{dataField:"modifiedDate",text:"Updated Date",type:"DATE",sort:!0,headerAttrs:{title:"Updated Date"},headerStyle:{width:120}},{dataField:"emptyCol",type:"EMPTY",text:"",headerStyle:{width:105}}];var $t=Qt[k.OBJECTS.EXPENSES],Zt=Object(T.a)(function(e){return{container:{padding:10}}}),ea=function(){var e=Zt(),t=Object(Je.b)().enqueueSnackbar,a=r.a.useRef(null),n=r.a.useRef(null),l=r.a.useRef(null),i=r.a.useRef(null),o=r.a.useContext(at).handleBackDrop,s=M.isDetailView(),u=Object(c.h)(),m=r.a.useState([]),E=Object(h.a)(m,2),T=E[0],v=E[1];r.a.useEffect(function(){S()},[]);var S=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s&&((t=t?Object(d.a)({},t):{}).parentFieldName="eventId",t.parentRecordId=u.id),o(!0),e.next=4,Ye.getData(P.EXPENSES_LIST_VIEW_GET,t);case 4:a=e.sent,v(a.data),o(!1);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(f.a)(p.a.mark(function e(){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.current.getSelectedRow(),e.next=4,Ye.deleteData(P.EXPENSES_DELETE+a[0].id);case 4:r=e.sent,console.log(r.data),S(),t("This is a success message!",{variant:"success"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),t(e.t0.message,{variant:"error"});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),g=[{name:"ADD",title:"Add Owners",onClick:function(){a.current.handleOpen()}},{name:"EDIT",title:"Edit Owners",onClick:function(){var e=n.current.getSelectedRow();e&&1==e.length?a.current.handleOpen(e[0].id):l.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"})}},{name:"DELETE",title:"Delete Owners",onClick:function(){var e=n.current.getSelectedRow();e&&1==e.length?i.current.handleOpen({title:"Confirmation Dialog",contentText:"Are you confirm to delet data?",callback:b}):l.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"})}},{name:"CSV",title:"Export to .csv file",onClick:function(){var e=$t.filter(function(e){return!e.hidden}).map(function(e){return{name:e.dataField,label:e.text}}),t={isSerial:!0},a=T.map(function(e){return e.amount}).reduce(function(e,t){return e+t},0);t.additionalRows=["","Total Amount",a],M.downloadCSVFile("expense-list-view-"+X(),e,T,t)}}];return r.a.createElement(O.a,{className:e.container},r.a.createElement(Wt,{ref:a,getListViewData:S}),r.a.createElement(wt,{ref:l,maxWidth:"xs"}),r.a.createElement(It,{ref:i}),!s&&r.a.createElement(Re,{object:k.OBJECTS.EXPENSES}),r.a.createElement(we,{ref:n,object:k.OBJECTS.EXPENSES,columns:ta($t),rows:T,toolBarIcon:g,getListViewData:S}))},ta=function(e){if(e){var t=Object(o.a)(e);return t.forEach(function(e,t){"title"==e.dataField&&(e.formatExtraData={detailLinkUrl:"/"+k.OBJECTS.EXPENSES.toLowerCase()+"/detail_view/"},e.events={onClick:function(e,t,a,n,r){console.log(e),console.log(t),console.log(a),console.log(n),console.log(r)},onMouseEnter:function(e,t,a,n,r){console.log(e),console.log(t),console.log(a),console.log(n),console.log(r),console.log("onMouseEnter on Product ID field")}})}),t}return e},aa=k.OBJECTS,na=k.OBJECTS_LABEL,ra=Object.values(aa).map(function(e){return{value:e,text:na[e]}}),la=Object(T.a)(function(e){return{root:{flexGrow:1},row:{display:"flex",marginTop:10},elementSpace:{width:10},label:{padding:4}}}),ia=r.a.forwardRef(function(e,t){var a=e.object,n=la(),l=(Object(Je.b)().enqueueSnackbar,r.a.useRef(null)),i=(r.a.useContext(at).handleBackDrop,r.a.useState(!0)),o=Object(h.a)(i,2),c=(o[0],o[1]),s=r.a.useState(0),u=Object(h.a)(s,2),d=u[0],m=u[1];r.a.useImperativeHandle(t,function(){return{handleDialog:E}});var E=function(e,t){e?(m(t),l.current.handleOpen({title:"Link Flat"})):l.current.handleClose()};return r.a.createElement(O.a,{className:n.root},r.a.createElement(wt,{ref:l,maxWidth:"md",requiredCancelBtn:!0,requiredOKBtn:!1},r.a.createElement(ca,{id:d,object:a,handleClose:function(){m(0),c(!1)}})))}),oa=ia,ca=function(e){var t=e.id,a=e.object,n=e.handleClose,l=la(),i=r.a.useRef(null),o=Object(Je.b)().enqueueSnackbar,c=r.a.useContext(at).handleBackDrop,s=ra.filter(function(e){return e.value!==a});s=[s[0]];var u=r.a.useState([]),d=Object(h.a)(u,2),E=(d[0],d[1],r.a.useState(s[0].value)),T=Object(h.a)(E,2),v=T[0],S=T[1],b=r.a.useState(0),g=Object(h.a)(b,2),N=g[0],x=g[1],A=r.a.useState([]),C=Object(h.a)(A,2),D=C[0],w=C[1],_=r.a.useState(null),I=Object(h.a)(_,2),j=I[0],R=I[1];r.a.useEffect(function(){k(v)},[]);var k=function(){var e=Object(f.a)(p.a.mark(function e(n){var r,l,i,s,u,d;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={object:a,id:t,linkObject:n||v,linkRecordId:N},c(!0),e.next=5,Ye.getData(P.COMMON_LINK_OBJECT_GET,r);case 5:(l=e.sent)?200==l.httpStatusCode&&100==l.statusCode&&l.data?(i=l.data,s=i.userList,u=Object(m.a)(i,["userList"]),s||u?(s&&((d=s.map(function(e){return{value:e.id,text:e.firstName+" "+e.lastName+", "+e.contactNo1}})).length>0&&x(d[0].value),w(d)),R(u)):console.error("userList: ",s,"linkDetails: ",u)):console.info(JSON.stringify(l)):(console.error(l.message),o(l.message,{variant:"error"})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message),o(e.t0.message,{variant:"error"});case 13:c(!1);case 14:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(p.a.mark(function e(){var r,l,i,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t>0&&v&&""!==v&&N&&N>0)){e.next=13;break}return r={object:a,id:t,linkObject:v,linkRecordId:N},c(!0),e.next=6,Ye.postData(P.COMMON_LINK_OBJECT_SAVE,r);case 6:l=e.sent,i=l.statusCode,s=l.message,l.httpStatusCode,l.data,console.log(l.data),100===i?(o("Successfully Linked Object",{variant:"success"}),n(!0)):o(s,{variant:"error"}),c(!1),e.next=15;break;case 13:console.error("Record id not found"),o("Record id not found",{variant:"error"});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0.message),o(e.t0.message,{variant:"error"});case 21:case"end":return e.stop()}},e,null,[[0,17]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:l.row},r.a.createElement(O.a,{className:l.row},r.a.createElement(re,{name:"link_object",options:s,style:{width:100},onChange:function(e){S(e.target.value),x(0),w([]),R(null),k(e.target.value)}}),r.a.createElement(O.a,{className:l.elementSpace}),r.a.createElement(O.a,{className:l.label},"Current Owner: ",function(){var e=j||{},t=e.firstName,a=void 0===t?"":t,n=e.lastName,r=void 0===n?"":n,l=e.contactNo1,i=a;return i+=""!=i?" "+r:"",i+=""!=i?", "+(void 0===l?"":l):""}()),r.a.createElement(O.a,{className:l.elementSpace}),r.a.createElement(re,{name:"owner",options:D,style:{width:300},onChange:function(e){x(e.target.value)}}),r.a.createElement(O.a,{className:l.elementSpace}),r.a.createElement(y.a,{onClick:function(){i.current.handleOpen({title:"Confirmation Dialog",contentText:"Are you confirm to link data?",callback:F})},variant:"contained",color:"primary"},"  Link "))),r.a.createElement(It,{ref:i}))},sa=function(e){var t=e.flatId,a=void 0===t?0:t,n=e.handleClose,l=void 0===n?function(){}:n,i=r.a.useContext(at).handleBackDrop,o=Object(Je.b)().enqueueSnackbar,c=r.a.useState([]),s=Object(h.a)(c,2),u=s[0],d=s[1],m=r.a.useState([]),E=Object(h.a)(m,2),T=E[0],v=E[1],S=r.a.useState(),b=Object(h.a)(S,2),g=b[0],N=b[1],x=g?g.id:0,A=r.a.useState(Y()),C=Object(h.a)(A,2),D=C[0],w=C[1];r.a.useEffect(function(){_()},[]);var _=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Ye.getData(P.SESSION_DETAILS_LIST_GET,t);case 4:a=e.sent,d(a.data),(n=a.data?a.data.map(function(e){return{key:e.id,value:e.id,text:e.name+" ("+e.fromDate+" to "+e.toDate+") "}}):[]).unshift({key:-9990,value:" ",text:"---Select Session---"}),v(n),i(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message),o(e.t0.message,{variant:"error"});case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(p.a.mark(function e(){var t,n,r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=J(g.fromDate),n=J(g.toDate),!((r=new Date(D))>=t&&r<=n)){e.next=14;break}return console.log(D),c={flatId:a,paymentId:-9999,paymentMonth:r.getMonth()+1,paymentYear:r.getFullYear(),eventId:1,paymentForSessionId:0},i(!0),e.next=10,Ye.postData(P.PAYMENT_DETAILS_CREATE_OR_UPDATE,c);case 10:e.sent,i(!1),o("Successfully saved.",{variant:"success"}),l(!0);case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message),i(!1),o(e.t0.message,{variant:"error"});case 21:case"end":return e.stop()}},e,null,[[0,16]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:6},r.a.createElement(re,{name:"sessionId",label:"Session Name",autoWidth:!0,options:T,value:x,style:{width:"100%"},onChange:function(e){var t=u.find(function(t){return t.id==e.target.value});N(t),w(function(e){var t=null;if(e&&""!==e){var a=e.split("-"),n=new Date(a[2]+"-"+a[1]+"-"+a[0]);t=U("yyyy-mm-dd",n)}return t}(t.fromDate))}})),r.a.createElement(H.a,{item:!0,xs:6},x>0&&r.a.createElement(ne,{name:"paymentDate",label:"Payment Date",size:"small",type:"date",value:D,onChange:function(e){w(e.target.value)}})),r.a.createElement(H.a,{item:!0,xs:12,style:{justifyContent:"end",display:"flex"}},r.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:function(){return l(!1)}}," Cancel "),r.a.createElement(O.a,{style:{width:10}}),r.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:I}," Save ")))},ua=k.FORM_CONSTANTS,da=ua.VALIDATOR_TYPE_REQUIRED,ma=(ua.VALIDATOR_TYPE_OPTIONAL,Qt[k.OBJECTS.FLAT_DETAILS]),Ea=function(){var e=Object(Je.b)().enqueueSnackbar,t=r.a.useRef(null),a=r.a.useRef(null),n=r.a.useRef(null),l=r.a.useRef(null),i=r.a.useContext(at),o=i.handleBackDrop,c=i.handleDialogOpen,s=i.handleDialogClose,u=r.a.useState([]),m=Object(h.a)(u,2),E=m[0],T=m[1];r.a.useEffect(function(){v()},[]);var v=function(){var t=Object(f.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),t.next=4,Ye.getData(P.FLAT_DETAILS_LIST_VIEW_GET,a);case 4:n=t.sent,T(n.data),o(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.message),e(t.t0.message,{variant:"error"});case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}(),S=function(){var a=Object(f.a)(p.a.mark(function a(){var n,r,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=t.current.getSelectedRow(),r=n.map(function(e){return e.id}),a.next=5,Ye.deleteData(P.FLAT_DETAILS_DELETE_BATCH,r);case 5:l=a.sent,console.log(l.data),v(),e("Record successfully deleted!",{variant:"success"}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0.message),e(a.t0.message,{variant:"error"});case 15:case"end":return a.stop()}},a,null,[[0,11]])}));return function(){return a.apply(this,arguments)}}(),b=[{name:"ADD",title:"Add Flat",onClick:function(){c(Object(d.a)({},ha,{handleClose:s,callbackOnSubmit:function(e){return v()}}))}},{name:"EDIT",title:"Edit Flat",onClick:function(){var e=t.current.getSelectedRow();e&&1==e.length?c(Object(d.a)({},ha,{handleClose:s,callbackOnSubmit:function(e){return v()},id:e[0].id})):a.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"})}},{name:"DELETE",title:"Delete Flat",onClick:function(){var e=t.current.getSelectedRow();e&&e.length>0?n.current.handleOpen({title:"Confirmation Dialog",contentText:"Are you confirm to delet data?"}):a.current.handleOpen({title:"Information Dialog",contentText:"Please select one or more record!"})}},{name:"PDF",title:"Export to .pdf file",onClick:function(){}},{name:"CSV",title:"Export to .csv file",onClick:function(){var e=ma.filter(function(e){return!e.hidden}).map(function(e){return{name:e.dataField,label:e.text}});M.downloadCSVFile("Flat Details-"+X(),e,E,{isSerial:!0})}},{name:"LINK",title:"Link Object",onClick:function(){var e=t.current.getSelectedRow();e&&1==e.length?l.current.handleDialog(!0,e[0].id):a.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"})}},{name:"MORE",title:"More options",onClick:function(e){if("SET-LAST-PAYMENT-DATE"===e){var n=t.current.getSelectedRow();n&&1==n.length?c({title:"Set Last Payment Date",maxWidth:"xs",requiredOKBtn:!1,requiredCancelBtn:!1,handleClose:s,component:r.a.createElement(sa,{handleClose:s,flatId:n[0].id})}):a.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"})}},options:[{value:"SET-LAST-PAYMENT-DATE",text:"Set Last Payment Date"}]}];return r.a.createElement("div",{style:{padding:10}},r.a.createElement(wt,{ref:a,maxWidth:"xs"}),r.a.createElement(It,{ref:n,clickEvent:S}),r.a.createElement(Re,{object:k.OBJECTS.FLAT_DETAILS,iconName:"fa fa-building"}),r.a.createElement(we,{ref:t,object:k.OBJECTS.FLAT_DETAILS,columns:pa(ma),rows:E,toolBarIcon:b,getListViewData:v}),r.a.createElement(oa,{ref:l,object:k.OBJECTS.FLAT_DETAILS}))},pa=function(e){if(e){var t=Object(o.a)(e);return t.forEach(function(e,t){"flatNo"==e.dataField&&(e.formatExtraData={detailLinkUrl:"/"+k.OBJECTS.FLAT_DETAILS.toLowerCase()+"/detail_view/"},e.events={onClick:function(e,t,a,n,r){console.log(e),console.log(t),console.log(a),console.log(n),console.log(r)},onMouseEnter:function(e,t,a,n,r){console.log(e),console.log(t),console.log(a),console.log(n),console.log(r),console.log("onMouseEnter on Product ID field")}})}),t}return e},fa=[{name:"flatNo",label:"Flat No",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:da},{name:"block",label:"Block",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:da},{name:"flatSizeSqft",label:"Square Foot",defaultValue:"",type:"NUMBER",isHeaden:!1,validationType:da},{name:"floorNo",label:"Floor No",defaultValue:"",type:"NUMBER",isHeaden:!1,validationType:da}],ha={title:"Flat Details Registration",contentText:"",maxWidth:"xs",type:"FORM",object:k.OBJECTS.FLAT_DETAILS,fields:fa},Ta=k.FORM_CONSTANTS,va=Ta.VALIDATOR_TYPE_REQUIRED,Sa=Ta.VALIDATOR_TYPE_OPTIONAL,ba=Qt[k.OBJECTS.OWNERS],ga=function(){var e=Object(Je.b)().enqueueSnackbar,t=r.a.useRef(null),a=r.a.useRef(null),n=r.a.useRef(null),l=r.a.useContext(at),i=l.handleBackDrop,o=l.handleDialogOpen,c=l.handleDialogClose,s=r.a.useState([]),u=Object(h.a)(s,2),m=u[0],E=u[1];r.a.useEffect(function(){T()},[]);var T=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Ye.getData(P.USER_LIST_VIEW_GET,t);case 4:a=e.sent,E(a.data),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message),i(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),v=function(){var a=Object(f.a)(p.a.mark(function a(){var n,r,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=t.current.getSelectedRow(),r=n.map(function(e){return e.id}),a.next=5,Ye.deleteData(P.USER_DELETE_BATCH,r);case 5:l=a.sent,console.log(l.data),T(),e("This is a success message!",{variant:"success"}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0.message),e(a.t0.message,{variant:"error"});case 15:case"end":return a.stop()}},a,null,[[0,11]])}));return function(){return a.apply(this,arguments)}}(),S=[{name:"ADD",title:"Add Owners",onClick:function(){o(Object(d.a)({},Oa,{handleClose:c,callbackOnSubmit:function(e){return T()}}))}},{name:"EDIT",title:"Edit Owners",onClick:function(){var e=t.current.getSelectedRow();e&&1==e.length?o(Object(d.a)({},Oa,{handleClose:c,callbackOnSubmit:function(e){return T()},id:e[0].id})):a.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"})}},{name:"DELETE",title:"Delete Owners",onClick:function(){var e=t.current.getSelectedRow();e&&e.length>0?n.current.handleOpen({title:"Confirmation Dialog",contentText:"Are you confirm to delet data?"}):a.current.handleOpen({title:"Information Dialog",contentText:"Please select one or more record!"})}},{name:"PDF",title:"Export to .pdf file",onClick:function(){}},{name:"EXCEL",title:"Export to .excl file",onClick:function(){}}];return r.a.createElement("div",{style:{padding:10}},r.a.createElement(wt,{ref:a,maxWidth:"xs"}),r.a.createElement(It,{ref:n,clickEvent:v}),r.a.createElement(Re,{object:"USER_DETAILS",iconName:"fa fa-user"}),r.a.createElement(we,{ref:t,object:k.OBJECTS.OWNERS,columns:ba,rows:m,toolBarIcon:S,getListViewData:T}))},ya=[{name:"firstName",label:"First Name",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:va},{name:"lastName",label:"Last Name",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:va},{name:"contactNo1",label:"Phone 1",defaultValue:"",type:"PHONE",isHeaden:!1,validationType:va},{name:"contactNo2",label:"Phone 2",defaultValue:"",type:"PHONE",isHeaden:!1,validationType:Sa},{name:"emailId",label:"Email",defaultValue:"",type:"EMAIL",isHeaden:!1,validationType:Sa},{name:"userAddress",label:"User Address",defaultValue:"",type:"LONG_TEXT",isHeaden:!1,validationType:Sa}],Oa={title:"Owners Registration",contentText:"",maxWidth:"xs",type:"FORM",object:k.OBJECTS.OWNERS,fields:ya},Na=(k.MONTHS_FULL_FORM,k.FORM_CONSTANTS),xa=Na.VALIDATOR_TYPE_REQUIRED,Aa=(Na.VALIDATOR_TYPE_OPTIONAL,function(){var e=Object(Je.b)().enqueueSnackbar,t=r.a.useRef(null),a=(r.a.useRef(null),r.a.useState(!1)),n=Object(h.a)(a,2),l=(n[0],n[1],r.a.useContext(at)),i=l.handleBackDrop,o=l.handleDialogOpen,c=l.handleDialogClose,s=(r.a.useRef(null),r.a.useRef(null)),u=(M.getObjectNameFromUrl(),r.a.useState([])),m=Object(h.a)(u,2),E=m[0],T=m[1];r.a.useEffect(function(){v()},[]);var v=function(){var t=Object(f.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i(!0),t.next=4,Ye.getData(P.MAINTANANCE_LIST_VIEW_GET,a);case 4:n=t.sent,T(n.data),i(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.message),e(t.t0.message,{variant:"error"});case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}(),S=function(){var a=Object(f.a)(p.a.mark(function a(){var n,r,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=t.current.getSelectedRow(),r=n.map(function(e){return e.id}),a.next=5,Ye.deleteData(P.MAINTANANCE_DELETE_BATCH,r);case 5:l=a.sent,console.log(l.data),v(),e("This is a success message!",{variant:"success"}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0.message),e(a.t0.message,{variant:"error"});case 15:case"end":return a.stop()}},a,null,[[0,11]])}));return function(){return a.apply(this,arguments)}}(),b=[{name:"ADD",title:"Add Maintenance",onClick:function(){o(Object(d.a)({},wa,{handleClose:c,callbackOnSubmit:function(e){return v()}}))}},{name:"EDIT",title:"Edit Maintenance",onClick:function(){var e=t.current.getSelectedRow();e&&1==e.length?o(Object(d.a)({},wa,{handleClose:c,id:e[0].id,callbackOnSubmit:function(e){return v()}})):o({title:"Information Dialog",contentText:"Please select one record!"})}},{name:"DELETE",title:"Delete Maintenance",onClick:function(){var e=t.current.getSelectedRow();e&&1==e.length?s.current.handleOpen({title:"Confirmation Dialog",contentText:"Are you confirm to delet data?"}):o({title:"Information Dialog",contentText:"Please select only one record!"})}},{name:"PDF",title:"Export to .pdf file",onClick:function(){}},{name:"CSV",title:"Export to .csv file",onClick:function(){var e=Ca.filter(function(e){return!e.hidden}).map(function(e){return{name:e.dataField,label:e.text}});M.downloadCSVFile("Maintenance-"+X(),e,E,{isSerial:!0})}}];return r.a.createElement("div",{style:{padding:10}},r.a.createElement(Re,{object:k.OBJECTS.MAINTENANCE}),r.a.createElement(we,{ref:t,object:k.OBJECTS.MAINTENANCE,columns:Ca,rows:E,toolBarIcon:b,getListViewData:v}),r.a.createElement(It,{ref:s,clickEvent:S}))}),Ca=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},{dataField:"flatNo",text:"Flat No",type:"TEXT",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Flat No"}},{dataField:"amount",text:"Amount",type:"TEXT",headerStyle:{width:100},headerAttrs:{title:"Amount"}},{dataField:"sessionName",text:"Session",type:"TEXT",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Session"}},{dataField:"createdDate",text:"Created Date",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Created Date"}},{dataField:"createdByName",text:"Created By",type:"TEXT",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Created By"}},{dataField:"modifiedDate",text:"Modified Date",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Modified Date"}},{dataField:"modifiedByName",text:"Modified By",type:"TEXT",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Modified By"}},{dataField:"emptyCol",type:"EMPTY",text:"",sort:!0,headerStyle:{width:120},headerAttrs:{title:""}}],Da=[{name:"flatId",label:"Flat No",defaultValue:"",type:"LIST",isHeaden:!1,validationType:xa,options:[{value:"99999",text:"All Flats"}],onLoadEventProps:{apiUrl:P.FLAT_DETAILS_LIST_GET,reqParams:{},fieldNames:["id","flatNo"]}},{name:"amount",label:"Amount",defaultValue:"",type:"NUMBER",isHeaden:!1,validationType:xa}],wa={title:"Maintenance",contentText:"",maxWidth:"xs",type:"FORM",object:k.OBJECTS.MAINTENANCE,fields:Da},_a=(a(121),k.MONTHS_SORT_FORM,Object(T.a)(function(e){return{container:{padding:10},form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},formControl:{marginTop:e.spacing(2),minWidth:120},formControlLabel:{marginTop:e.spacing(1)},row:{display:"flex",marginTop:10},headerRow:{position:"absolute",zIndex:40},elementSpace:{width:10},label:{padding:4},tableContainer:{}}})),Ia=r.a.forwardRef(function(e,t){e.flatId;var a=_a(),n=r.a.useRef(null),l=Object(c.h)(),i=Object(Je.b)().enqueueSnackbar,o=r.a.useContext(at).handleBackDrop,s=M.isDetailView(),u=r.a.useState([]),m=Object(h.a)(u,2),E=m[0],T=m[1];r.a.useImperativeHandle(t,function(){return{getSelectedRow:function(){return n.current.getSelectedRow()}}}),r.a.useEffect(function(){v()},[]);var v=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s&&((t=t?Object(d.a)({},t):{}).parentFieldName=M.getForienKeyFieldName(l),t.parentRecordId=l.id),o(!0),e.next=5,Ye.getData(P.PAYMENT_DETAILS_DUES_LIST_VIEW_GET,t);case 5:a=e.sent,T(a.data),o(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),i(e.t0.message,{variant:"error"});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),S=[{name:"PDF",title:"Export to .pdf file",onClick:function(){}},{name:"CSV",title:"Export to .csv file",onClick:function(){var e=ja.filter(function(e){return!e.hidden}).map(function(e){return{name:e.dataField,label:e.text}});M.downloadCSVFile("payment-list-view-"+X(),e,E,{isSerial:!0})}},{name:"REFRESH",title:"Refresh data...",onClick:function(){return v()}}];return r.a.createElement(O.a,{className:a.container},!s&&r.a.createElement(Re,{label:"Maintenance Dues",object:k.OBJECTS.PAYMENT_DETAILS}),r.a.createElement(we,{ref:n,columns:function(e){if(s){var t=JSON.parse(JSON.stringify(e)),a=(t=t.filter(function(e){return"flatNo"!=e.dataField})).find(function(e){return"EMPTY"==e.type});return a&&(a.headerStyle.width=202),t}return e}(ja),rows:E,getListViewData:v,toolBarIcon:S}))}),ja=[{dataField:"id",text:"ID",hidden:!0,type:"TEXT"},{dataField:"flatNo",text:"Flat No",headerStyle:{width:70},headerAttrs:{title:"Flat No"},type:"TEXT"},{dataField:"amount",text:"Amount",headerStyle:{width:80},headerAttrs:{title:"Flat No"},type:"NUMBER"},{dataField:"paymentForSessionName",text:"Session Name",headerStyle:{width:280},headerAttrs:{title:"Session Name"},type:"TEXT"},{dataField:"paymentMonthName",text:"Payment For Month",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Payment For Month"}},{dataField:"paymentYear",text:"Payment For Year",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Payment For Year"},type:"NUMBER"},{dataField:"empty",headerStyle:{width:439},type:"EMPTY"}],Ra=(k.MONTHS_SORT_FORM,Object(T.a)(function(e){return{form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},formControl:{marginTop:e.spacing(2),minWidth:120},formControlLabel:{marginTop:e.spacing(1)},row:{display:"flex",marginTop:10},headerRow:{position:"absolute",zIndex:40},elementSpace:{width:10},label:{padding:4},tableContainer:{}}})),ka=r.a.forwardRef(function(e,t){e.flatId;var a=e.data,n=void 0===a?{}:a,l=Ra(),i=r.a.useRef(null);return r.a.useImperativeHandle(t,function(){return{getSelectedRow:function(){return i.current.getSelectedRow()}}}),r.a.createElement(O.a,{className:"".concat(l.tableContainer," add-maitenance")},r.a.createElement(we,{key:"add-maint",ref:i,columns:Fa,rows:Pa(n.duesList),isSearchRequired:!1,wrapperClasses:"table_overflow-add-maitenance",isPagingRequired:!1}))}),Pa=function(e){return e?Object(o.a)(e).map(function(e){var t=e.paymentMonth?k.MONTHS_FULL_FORM[e.paymentMonth]:"";return Object(d.a)({},e,{paymentMonthName:t})}):[]},Fa=[{dataField:"id",text:"ID",hidden:!0,type:"TEXT"},{dataField:"flatNo",text:"Flat No",headerStyle:{width:100},headerAttrs:{title:"Flat No"},type:"TEXT"},{dataField:"amount",text:"Amount",headerStyle:{width:80},headerAttrs:{title:"Flat No"},type:"NUMBER"},{dataField:"paymentForSessionName",text:"Session Name",headerStyle:{width:280},headerAttrs:{title:"Session Name"},type:"TEXT"},{dataField:"paymentMonthName",text:"Payment For Month",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Payment For Month"}},{dataField:"paymentYear",text:"Payment For Year",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Payment For Year"},type:"DATE"}],La=k.MONTHS_SORT_FORM,Ma=Object(T.a)(function(e){return{form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},formControl:{marginTop:e.spacing(2),minWidth:120},formControlLabel:{marginTop:e.spacing(1)},row:{display:"flex",marginTop:10},rowSecondary:{display:"flex"},headerRow:{position:"absolute",zIndex:40},elementSpace:{width:10},label:{padding:4},tableContainer:{marginTop:10},rowCustomField:{marginTop:10}}}),Ba=function(e){var t=e.openDialog,a=e.handleCloseDialog,n=(e.payMaintenance,e.recordFlatId),l=void 0===n?0:n,i=Ma(),o=Object(Je.b)().enqueueSnackbar,c=r.a.useRef(null),s=r.a.useRef(null),u=r.a.useContext(at).handleBackDrop,m=r.a.useState(l),E=Object(h.a)(m,2),T=E[0],v=E[1],S=r.a.useState([]),b=Object(h.a)(S,2),g=b[0],N=b[1];r.a.useEffect(function(){T<=0&&x()},[]);var x=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Ye.getData(P.FLAT_DETAILS_LIST_GET,t);case 4:a=e.sent,(n=a.data?a.data.map(function(e){return{key:e.id,value:e.id,text:e.flatNo}}):[]).unshift({key:-9990,value:"",text:"---Select Flat---"}),N(n),u(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),o(e.t0.message,{variant:"error"});case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(p.a.mark(function e(){var t,n,r,l,i,s,m,E,f,h,T,v;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c.current.getPaymentData(),n=t.flatId,r=t.paymentMode,l=t.paymentModeRef,i=t.paymentDate,s=t.remarks,m=t.selectedRows,E=t.miscellaneousFields,f=m.map(function(e){return Object(d.a)({},e,{id:0,flatId:n,paymentDate:i})}),h=Object.keys(E).map(function(e){var a=e.replace("field-",""),n=t.eventList.find(function(e){return e.id==a});return{eventId:n.id,value:E[e],sessionId:n.sessionId}}),T={flatId:n,paymentMode:r,paymentModeRef:l,paymentDate:i,remarks:s,monthList:f,miscellaneousFields:h},u(!0),e.next=9,Ye.postData(P.PAYMENT_SAVE,T);case 9:v=e.sent,u(!1),o("Successfully saved.",{variant:"success"}),C(v.data.id),a(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0.message),o(e.t0.message,{variant:"error"});case 21:case"end":return e.stop()}},e,null,[[0,17]])}));return function(){return e.apply(this,arguments)}}(),C=function(e){try{Ye.downloadFile(P.PAYMENT_DOWNLOAD+e)}catch(t){console.log(t.message),o(t.message,{variant:"error"})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{fullWidth:!0,maxWidth:"md",open:t,"aria-labelledby":"max-width-dialog-title"},r.a.createElement(Ke.a,{id:"max-width-dialog-title"},"Add Payment"),r.a.createElement(qe.a,null,T<=0&&r.a.createElement(O.a,{className:"".concat(i.rowSecondary)},r.a.createElement(re,{name:"flatNo",label:"Flat No",options:g,style:{width:100},onChange:function(e){v(e.target.value)}})),T>0&&r.a.createElement(Va,{ref:c,flatId:T})),r.a.createElement(We.a,null,r.a.createElement(y.a,{onClick:a,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:function(){console.log(c.current.getPaymentData());var e=c.current.getPaymentData(),t=(e.flatId,e.paymentMode),a=e.paymentModeRef,n=e.paymentDate,r=(e.remarks,e.amount),l=e.selectedRows,i=e.rows;if(e.miscellaneousFields,t&&""!=t)if("CHEQUE"!==t||a&&""!=a)if(r<=0)o("Select amount to pay!",{variant:"error"});else if(n&&""!=n)if(Ja(i,l)){var u=e.selectedRows.sort(function(e,t){return e.id>t.id?1:t.id>e.id?-1:0}),d="Payable months: "+(u=(u=u.map(function(e){return La[e.paymentMonth]+"-"+e.paymentYear})).join(", "))+"& amount: "+r+"/-. Are you confirm to pay?";s.current.handleOpen({title:"Confirmation Dialog",contentText:d,callback:A})}else o("Old dues should pay first. Please select old dues!",{variant:"error"});else o("Select payment date!",{variant:"error"});else o("Enter Cheque No!",{variant:"error"});else o("Select payment mode!",{variant:"error"})},color:"primary"},"Pay"))),r.a.createElement(It,{ref:s}))},Va=r.a.forwardRef(function(e,t){var a=e.flatId,n=Ma(),l=r.a.useRef(null),i=Object(Je.b)().enqueueSnackbar,o=r.a.useState([{value:"",text:""},{value:"1",text:"Building Paint"},{value:"2",text:"Durga Puja"}]),c=Object(h.a)(o,2),s=(c[0],c[1],r.a.useContext(at).handleBackDrop),u=r.a.useState({}),m=Object(h.a)(u,2),E=m[0],T=m[1],v=r.a.useState(""),S=Object(h.a)(v,2),b=S[0],g=S[1],y=r.a.useState(""),N=Object(h.a)(y,2),x=N[0],C=N[1],D=r.a.useState(Y()),w=Object(h.a)(D,2),_=w[0],I=w[1],j=r.a.useState(""),R=Object(h.a)(j,2),k=R[0],F=R[1],L=r.a.useState([]),M=Object(h.a)(L,2),B=(M[0],M[1],r.a.useState(0)),V=Object(h.a)(B,2),H=V[0],U=V[1],X=r.a.useState({}),J=Object(h.a)(X,2),G=J[0],W=J[1];r.a.useImperativeHandle(t,function(){return{getPaymentData:q}});var q=function(){return{flatId:a,paymentMode:b,paymentModeRef:x,paymentDate:_,remarks:k,amount:H,selectedRows:l.current.getSelectedRow(),rows:E.duesList?E.duesList:[],miscellaneousFields:G,eventList:E.eventList}};r.a.useEffect(function(){z(a)},[a]);var z=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,Ye.getData(P.PAYMENT_ADD_PAGE_GET+t);case 4:a=e.sent,T(a.data),s(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),i(e.t0.message,{variant:"error"});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),K=function(e){return function(t){var a=Object(d.a)({},G);""===t.target.value||/^[0-9\b]+$/.test(t.target.value)?a[e]=t.target.value:delete a[e],W(a)}},Q=[{name:"maintenance",summary:{heading:"Maintenance Dues",secondaryHeading:r.a.createElement(Ua,{data:E})},children:r.a.createElement(ka,{ref:l,flatId:a,data:E})},{name:"miscellaneous",summary:{heading:"Miscellaneous",secondaryHeading:"Miscellaneous payment fields"},children:r.a.createElement(O.a,{className:"".concat(n.rowSecondary)},E&&E.eventList&&E.eventList.map(function(e){return r.a.createElement(Ha,Object.assign({},e,{flatId:a,onChange:K,values:G}))}))}];return r.a.createElement(O.a,null,(a||a>0)&&r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(bt,{list:Q}),r.a.createElement(O.a,{className:n.row},r.a.createElement(re,{name:"paymentMode",label:"Payment Mode",options:Ga,style:{width:100},onChange:function(e){g(e.target.value)}}),"CHEQUE"==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:n.elementSpace}),r.a.createElement(ne,{name:"paymentModeRef",label:"Cheque No.",size:"small",defaultValue:x,value:x,onChange:function(e){return C(e.target.value)}})),r.a.createElement(O.a,{className:n.elementSpace}),r.a.createElement(ne,Object(A.a)({name:"amount",label:"Amount(Click to check total amount)",size:"small",defaultValue:H,value:H,InputProps:{readOnly:!0},onFocus:function(){var e=(l.current?l.current.getSelectedRow():[]).reduce(function(e,t){return e+parseInt(t.amount)},0),t=Object.values(G).reduce(function(e,t){return e+parseInt(t)},e);U(t)}},"InputProps",{style:{width:200}})),r.a.createElement(O.a,{className:n.elementSpace}),r.a.createElement(ne,{name:"paymentDate",label:"Payment Date",size:"small",type:"date",defaultValue:_,onChange:function(e){I(e.target.value)}}),r.a.createElement(O.a,{className:n.elementSpace}),r.a.createElement(ne,{multiline:!0,key:"remarks",name:"remarks",label:"Remarks",size:"small",InputProps:{style:{width:250}},defaultValue:"",onChange:function(e){F(e.target.value)}}))))}),Ha=function(e){var t=e.id,a=e.name,n=e.dueAmount,l=e.onChange,i=void 0===l?function(){return function(){}}:l,o=e.values,c=Ma(),s=(r.a.useRef(null),o["field-"+t]);s=s||"";var u=a+"( Due Amount: "+n+")";return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:c.rowCustomField},r.a.createElement(ht.a,{style:{marginBottom:5}},u),r.a.createElement(ne,{name:"field-"+t,label:a,size:"small",onChange:i("field-"+t),value:s}),r.a.createElement(O.a,{className:c.elementSpace})),r.a.createElement(O.a,{className:c.elementSpace}))},Ua=function(e){var t=e.data,a=Ma();return r.a.createElement(O.a,{className:"".concat(a.row),style:{marginTop:0}},r.a.createElement(O.a,{className:a.elementSpace}),r.a.createElement(O.a,{className:a.label},"Current Owner: ",Xa(t)),r.a.createElement(O.a,{className:a.elementSpace}),r.a.createElement(O.a,{className:a.label,style:{color:"red"}},"Total Maintenance Due: $",Ya(t),"/-"))},Xa=function(e){var t=e.currentOwner;if(t){var a=t||{},n=a.firstName,r=void 0===n?"":n,l=a.lastName,i=void 0===l?"":l,o=a.contactNo1,c=r;return c+=""!=c?" "+i:"",c+=""!=c?", "+(void 0===o?"":o):""}return"Empty"},Ya=function(e){var t=e.duesList;return t?t.reduce(function(e,t){return e+parseInt(t.amount)},0):0},Ja=function(e,t){var a=!0,n=e.map(function(e){return e.id}),r=t.map(function(e){return e.id});return(r=r.sort()).forEach(function(e,t){console.log(e,n[t]),e===n[t]||(a=!1)}),console.log("f, ids[i]"),a},Ga=[{value:"",text:""},{value:"CASH",text:"CASH"},{value:"CHEQUE",text:"CHEQUE"},{value:"ONLINE",text:"ONLINE"}],Wa=k.MONTHS_FULL_FORM,qa=Object(T.a)(function(e){return{container:{padding:10}}}),za=function(){var e=qa(),t=Object(Je.b)().enqueueSnackbar,a=r.a.useRef(),n=r.a.useState(!1),l=Object(h.a)(n,2),i=(l[0],l[1],r.a.useContext(at).handleBackDrop),o=Object(c.h)(),s=r.a.useState([]),u=Object(h.a)(s,2),m=u[0],E=u[1],T=M.isDetailView();r.a.useEffect(function(){v()},[]);var v=function(){var e=Object(f.a)(p.a.mark(function e(a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T&&((a=a?Object(d.a)({},a):{}).parentFieldName=M.getForienKeyFieldName(o),a.parentRecordId=o.id),i(!0),e.next=5,Ye.getData(P.PAYMENT_DETAILS_LIST_VIEW_GET,a);case 5:n=e.sent,E(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),t(e.t0.message,{variant:"error"});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),S=m.map(function(e){return Object(d.a)({},e,{paymentMonth:Wa[e.paymentMonth]})}),b=[{name:"PDF",title:"Export to .pdf file",onClick:function(){}},{name:"CSV",title:"Export to .csv file",onClick:function(){var e=Ka.filter(function(e){return!e.hidden}).map(function(e){return{name:e.dataField,label:e.text}});M.downloadCSVFile("payment-details-list-view-"+X(),e,m,{isSerial:!0})}}];return r.a.createElement(O.a,{className:e.container},!T&&r.a.createElement(Re,{object:k.OBJECTS.PAYMENT_DETAILS}),r.a.createElement(we,{ref:a,object:k.OBJECTS.PAYMENT_DETAILS,columns:Ka,rows:S,toolBarIcon:b,getListViewData:v,rowStyle:Qa}))},Ka=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},{dataField:"flatNo",text:"Flat No",type:"TEXT",headerStyle:{width:50},headerAttrs:{title:"Flat No"}},{dataField:"amount",text:"Amount",type:"TEXT",headerStyle:{width:70},headerAttrs:{title:"Amount"}},{dataField:"paymentMonth",text:"Payment For Month",type:"NUMBER",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Payment For Month"}},{dataField:"paymentYear",text:"Payment For Year",type:"NUMBER",sort:!0,headerStyle:{width:140},headerAttrs:{title:"Payment For Year"}},{dataField:"paymentDate",text:"Payment Date",type:"DATE",sort:!0,headerStyle:{width:100},headerAttrs:{title:"Payment Date"}},{dataField:"eventName",text:"Event Name",type:"TEXT",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Event Name"}},{dataField:"paymentForSessionName",text:"Payment for Session",type:"TEXT",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Payment for Session"}},{dataField:"isCanceled",text:"Is Canceled",type:"BOOLEAN",sort:!0,headerStyle:{width:80},headerAttrs:{title:"Is Canceled"}},{dataField:"createdDate",text:"Created Date",type:"DATE",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Created Date"}},{dataField:"emptyCol",type:"EMPTY",headerStyle:{width:80}}],Qa=function(e,t){var a={};return e.isCanceled&&(a.color="red"),a},$a=k.MONTHS_FULL_FORM,Za=Qt[k.OBJECTS.PAYMENT],en=Object(T.a)(function(e){return{container:{padding:10}}}),tn=function(){var e=en(),t=Object(Je.b)().enqueueSnackbar,a=r.a.useRef(),n=r.a.useState(!1),l=Object(h.a)(n,2),i=l[0],o=l[1],s=r.a.useContext(at).handleBackDrop,u=r.a.useRef(null),m=r.a.useRef(null),E=M.isDetailView(),T=Object(c.h)(),v=r.a.useState([]),S=Object(h.a)(v,2),b=S[0],g=S[1];r.a.useEffect(function(){y()},[]);var y=function(){var e=Object(f.a)(p.a.mark(function e(a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E&&((a=a?Object(d.a)({},a):{}).parentFieldName="flatId",a.parentRecordId=T.id),s(!0),e.next=5,Ye.getData(P.PAYMENT_LIST_VIEW_GET,a);case 5:n=e.sent,g(n.data),s(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),t(e.t0.message,{variant:"error"});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(p.a.mark(function e(){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=a.current.getSelectedRow()).map(function(e){return e.id}),e.next=5,Ye.deleteData(P.PAYMENT_DELETE+n[0].id);case 5:r=e.sent,console.log(r.data),y(),t("This is a success message!",{variant:"success"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),t(e.t0.message,{variant:"error"});case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}(),x=b.map(function(e){return Object(d.a)({},e,{paymentMonth:$a[e.paymentMonth]})}),A=[{name:"ADD",title:"Add Maintenance",onClick:function(){o(!0)}},{name:"DELETE",title:"Delete Maintenance",onClick:function(){var e=a.current.getSelectedRow();e&&1==e.length?m.current.handleOpen({title:"Confirmation Dialog",contentText:"Are you confirm to delete data?",callback:N}):u.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"})}},{name:"PDF",title:"Export to .pdf file",onClick:function(){}},{name:"CSV",title:"Export to .csv file",onClick:function(){var e=Za.filter(function(e){return!e.hidden}).map(function(e){return{name:e.dataField,label:e.text}}),t={isSerial:!0},a=b.filter(function(e){return!e.isCanceled}).map(function(e){return e.amount}).reduce(function(e,t){return e+t},0);t.additionalRows=["","Total Amount",a],M.downloadCSVFile("payment-list-view-"+X(),e,b,t)}}];return r.a.createElement(O.a,{className:e.container},!E&&r.a.createElement(Re,{object:k.OBJECTS.PAYMENT}),r.a.createElement(we,{ref:a,object:k.OBJECTS.PAYMENT,columns:an(Za),rows:x,toolBarIcon:A,getListViewData:y,rowStyle:nn}),i&&r.a.createElement(Ba,{openDialog:i,handleCloseDialog:function(){o(!1)},payMaintenance:function(){alert(44)},recordFlatId:E&&M.getObjectNameFromUrl()==k.OBJECTS.FLAT_DETAILS?T.id:0}),r.a.createElement(wt,{ref:u,maxWidth:"xs"}),r.a.createElement(It,{ref:m}))},an=function(e){if(e){var t=Object(o.a)(e);return t.forEach(function(e,t){"flatNo"==e.dataField&&(e.formatExtraData={detailLinkUrl:"/"+k.OBJECTS.PAYMENT.toLowerCase()+"/detail_view/"},e.events={onClick:function(e,t,a,n,r){console.log(e),console.log(t),console.log(a),console.log(n),console.log(r)},onMouseEnter:function(e,t,a,n,r){console.log(e),console.log(t),console.log(a),console.log(n),console.log(r),console.log("onMouseEnter on Product ID field")}})}),t}return e},nn=function(e,t){var a={};return e.isCanceled&&(a.color="red"),a},rn=k.MONTHS_FULL_FORM,ln=Object(T.a)(function(e){return{container:{padding:10}}}),on=function(){var e=ln(),t=Object(Je.b)().enqueueSnackbar,a=r.a.useRef(),n=r.a.useState(!1),l=Object(h.a)(n,2),i=(l[0],l[1],r.a.useContext(at).handleBackDrop),o=Object(c.h)(),s=r.a.useState([]),u=Object(h.a)(s,2),m=u[0],E=u[1],T=M.isDetailView();r.a.useEffect(function(){v()},[]);var v=function(){var e=Object(f.a)(p.a.mark(function e(a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T&&((a=a?Object(d.a)({},a):{}).parentFieldName="expenseId",a.parentRecordId=o.id),i(!0),e.next=5,Ye.getData(P.EXPENSES_ITEMS_LIST_VIEW_GET,a);case 5:n=e.sent,E(n.data),i(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),t(e.t0.message,{variant:"error"});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),S=m.map(function(e){return Object(d.a)({},e,{paymentMonth:rn[e.paymentMonth]})}),b=[{name:"CSV",title:"Export to .csv file",onClick:function(){var e=cn.filter(function(e){return!e.hidden}).map(function(e){return{name:e.dataField,label:e.text}});M.downloadCSVFile("expense-items-list-view-"+X(),e,m,{isSerial:!0})}}];return r.a.createElement(O.a,{className:e.container},!T&&r.a.createElement(Re,{object:k.OBJECTS.EXPENSE_ITEMS}),r.a.createElement(we,{ref:a,object:k.OBJECTS.EXPENSE_ITEMS,columns:cn,rows:S,toolBarIcon:b,getListViewData:v}))},cn=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},{dataField:"itemHead",text:"Item Head",type:"TEXT",headerStyle:{width:500},headerAttrs:{title:"Item Head"}},{dataField:"amount",text:"Amount",type:"TEXT",headerStyle:{width:100},headerAttrs:{title:"Amount"}},{dataField:"createdDate",text:"Created Date",type:"DATE",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Created Date"}},{dataField:"modifiedDate",text:"Modified Date",type:"DATE",sort:!0,headerStyle:{width:150},headerAttrs:{title:"Modified Date"}},{dataField:"emptyCol",type:"EMPTY",text:"",headerStyle:{width:235}}],sn=[{label:"Dashboard",url:"/",element:r.a.createElement(x,null)},{label:"Owners",url:"/owners/listView",element:r.a.createElement(ga,null)},{label:"Flats",subMenu:[{label:"List View",url:"/flat/listView",element:r.a.createElement(Ea,null)},{label:"Maintenance",url:"/maintenance",element:r.a.createElement(Aa,null)}]},{label:"Events",url:"/events/listView",element:r.a.createElement(Mt,null)},{label:"Payment",subMenu:[{label:"List View",url:"/payment/listView",element:r.a.createElement(tn,null)},{label:"Details List View",url:"/payment-details/listView",element:r.a.createElement(za,null)},{label:"Dues List View",url:"/payment-details/listView/dues",element:r.a.createElement(Ia,null)}]},{label:"Expense",subMenu:[{label:"List View",url:"/expenses/listView",element:r.a.createElement(ea,null)},{label:"Items List View",url:"/expense-items/listView",element:r.a.createElement(on,null)}]}],un=function(){var e=Object(c.g)();return r.a.createElement(S.a,{menuButton:r.a.createElement(y.a,{style:{color:"#ffffff"}},"Menu")},dn(sn,e))},dn=function e(t,a){return t.map(function(t){return t.subMenu?r.a.createElement(b.a,{label:t.label},e(t.subMenu,a)):r.a.createElement(g.a,{onClick:function(){return a(t.url)}},t.label)})},mn=Object(T.a)(function(e){return{root:{flexGrow:1},headerContainer:{height:40},appTitle:{padding:8,maxWidth:200,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},headerRow:{display:"flex"},menuContainer:{padding:8},userProfileContainer:{display:"flex",marginLeft:"auto"},userProfile:{width:30,border:"2px solid #ffffff",height:30,borderRadius:20,marginRight:15,marginTop:5,cursor:"pointer"},profileIcon:{fontSize:20,marginTop:2,marginLeft:6.5}}}),En=function(){var e=mn();return r.a.createElement("div",{className:e.root},r.a.createElement(pn,null),r.a.createElement(c.a,null))},pn=function(){var e=mn(),t=r.a.useContext(at).handleBackDrop,a=Object(c.g)(),n=Object(c.f)(),l=r.a.useState({apartmentDetails:null,sessionDetails:null}),i=Object(h.a)(l,2),o=i[0],s=i[1],u=o.apartmentDetails,d=o.sessionDetails;console.log(n);var m=localStorage.getItem("token");r.a.useEffect(function(){!m&&fn.indexOf(n.pathname)<0&&a("/login"),m&&E()},[]);var E=function(){var e=Object(f.a)(p.a.mark(function e(){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0),e.next=4,Ye.getData(P.PROJECT_GET);case 4:a=e.sent,s(a.data),t(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message),t(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),T=u?u.name:"Empty",S=d?d.name:"Empty";return r.a.createElement(v.a,{position:"static",className:e.headerContainer},m&&r.a.createElement(O.a,{className:e.headerRow},r.a.createElement(O.a,{className:e.appTitle,title:"Apartment Name: "+T},T),r.a.createElement(O.a,{className:e.menuContainer},r.a.createElement(un,null)),r.a.createElement(O.a,{className:e.userProfileContainer},r.a.createElement(O.a,{className:e.appTitle,title:"Current Session: "+S},S),r.a.createElement(hn,{onClick:function(e){"logout"==e?(localStorage.removeItem("token"),a("/login")):"settings"==e&&a("/settings")},options:[{value:"settings",text:"Settings"},{value:"logout",text:"Logout"}]}))),!m&&r.a.createElement(O.a,{className:e.headerRow},r.a.createElement(O.a,{className:e.appTitle},"Apartment Management System")))},fn=["/register"],hn=r.a.forwardRef(function(e,t){var a=e.name,n=void 0===a?"profile-menu":a,l=e.options,i=void 0===l?[]:l,o=e.onClick,c=void 0===o?function(){}:o,s=Object(m.a)(e,["name","options","onClick"]),u=mn(),E=r.a.useState(null),p=Object(h.a)(E,2),f=p[0],T=p[1],v=Boolean(f);r.a.useImperativeHandle(t,function(){return{handleOpen:S}});var S=function(e){T(e.currentTarget)},b=function(){T(null)},g=Object(d.a)({style:{fontSize:20}},s);return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:u.userProfile,onClick:S},r.a.createElement("i",Object.assign({className:"fa fa-user ".concat(u.profileIcon),"aria-hidden":"true"},g))),r.a.createElement(he.a,{id:n+"-id",key:n+"-key",name:n,anchorEl:f,keepMounted:!0,open:v,onClose:b,PaperProps:{style:{maxHeight:216,minWidth:"10ch",maxWidth:"20ch"}},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},i.map(function(e){return r.a.createElement(Te.a,{key:e.value,title:e.text,selected:"Pyxis"===e,onClick:(t=e.value,function(e){b(),c(t)})},e.text);var t})))}),Tn=k.FORM_CONSTANTS,vn=Tn.VALIDATOR_TYPE_REQUIRED,Sn=(Tn.VALIDATOR_TYPE_OPTIONAL,Object(T.a)(function(e){return{root:{flexGrow:1}}})),bn=(r.a.forwardRef(function(e,t){var a=e.getListViewData,n=void 0===a?function(){}:a,l=Sn(),i=Object(Je.b)().enqueueSnackbar,o=r.a.useState(0),c=Object(h.a)(o,2),s=c[0],u=c[1],d=r.a.useState(),m=Object(h.a)(d,2),E=m[0],T=m[1],v=r.a.useContext(at).handleBackDrop;r.a.useImperativeHandle(t,function(){return{handleOpen:N}}),r.a.useEffect(function(){(!s||s<=0)&&T(null)},[s]);var S=r.a.useState(!1),b=Object(h.a)(S,2),g=b[0],O=b[1],N=function(e){u(e),O(!0),e&&e>0&&A(e)},x=function(){O(!1)},A=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Ye.getData(P.FLAT_DETAILS_GET+t,null);case 4:a=e.sent,T(a.data),v(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,v(!0),a="Successfully saved.",s&&s>0&&(t.id=s,a="Successfully updated."),e.next=7,Ye.postData(P.MAINTANANCE_MASTER_CREATE_OR_UPDATE,t);case 7:r=e.sent,console.log(r.data),v(!1),n(),i(a,{variant:"success"}),x(),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0.message),i(e.t0.message,{variant:"error"}),v(!1);case 20:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:l.root},r.a.createElement(Ge.a,{open:g,onClose:x},r.a.createElement(Ke.a,{id:"form-dialog-title"},"Flat Details Registration"),r.a.createElement(qe.a,null,r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ct,{fields:bn,data:E,onSubmit:C,cancelEvent:x,submitButton:r.a.createElement(y.a,{type:"submit",color:"primary"}," Save ")}))))))}),[{name:"amount",label:"Amount",defaultValue:"",type:"NUMBER",isHeaden:!1,validationType:vn},{name:"fromDate",label:"From Date",defaultValue:"",type:"DATE",isHeaden:!1,validationType:vn},{name:"toDate",label:"To Date",defaultValue:"",type:"DATE",isHeaden:!1,validationType:vn}]),gn=(k.MONTHS_FULL_FORM,a(329)),yn=a(331),On=a(335),Nn=a(330),xn=Object(T.a)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}),An=r.a.forwardRef(function(e,t){var a=e.tabList,n=void 0===a?[]:a,l=xn(),i=r.a.useState("1"),o=Object(h.a)(i,2),c=o[0],s=o[1];return r.a.createElement(O.a,{className:"".concat(l.root," cust-tab")},r.a.createElement(yn.a,{value:c,style:{height:30}},r.a.createElement(v.a,{position:"static"},r.a.createElement(On.a,{onChange:function(e,t){s(t)},"aria-label":"simple tabs example"},n.map(function(e){return r.a.createElement(gn.a,Object.assign({},e,{key:"tab-"+e.object+"-"+e.value}))}))),n.map(function(e){return r.a.createElement(Nn.a,{key:"tab-panel"+e.value,value:e.value}," ",e.children)})))}),Cn=a(312),Dn={getDataFromAPI:function(){var e=Object(f.a)(p.a.mark(function e(t,a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t?t.toUpperCase():"",n="",t==k.OBJECTS.FLAT_DETAILS?n=P.FLAT_DETAILS_GET:t==k.OBJECTS.PAYMENT?n=P.PAYMENT_GET:t==k.OBJECTS.EXPENSES?n=P.EXPENSES_GET:t==k.OBJECTS.EVENTS?n=P.EVENTS_GET:t==k.OBJECTS.OWNERS&&(n=P.USER_GET),n&&""!=n&&(n+=a),e.next=6,Ye.getData(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),getRightPanelDataFromAPI:function(){var e=Object(f.a)(p.a.mark(function e(t,a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",(t=t||"")==k.OBJECTS.OWNERS?n=P.USER_BY_FLAT_ID_GET:t==k.OBJECTS.EVENTS&&(n=P.EVENTS_BY_EXPENSE_ID_GET),n&&""!=n&&(n+=a),e.next=6,Ye.getData(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},wn=k.FORM_CONSTANTS,_n=wn.VALIDATOR_TYPE_REQUIRED,In=(wn.VALIDATOR_TYPE_OPTIONAL,Object(T.a)(function(e){return{root:{flexGrow:1},field:{width:"100%"}}})),jn=(r.a.forwardRef(function(e,t){var a=e.getListViewData,n=(e.object,e.isDetailView),l=In(),i=Object(Je.b)().enqueueSnackbar,s=r.a.useState(0),u=Object(h.a)(s,2),d=u[0],m=u[1],E=r.a.useState(),T=Object(h.a)(E,2),v=T[0],S=T[1],b=r.a.useContext(at).handleBackDrop,g=r.a.useState(!1),y=Object(h.a)(g,2),O=y[0],N=y[1],x=Object(c.h)();r.a.useImperativeHandle(t,function(){return{handleOpen:_}});var A=r.a.useState(!1),C=Object(h.a)(A,2),D=C[0],w=C[1];r.a.useEffect(function(){(!d||d<=0)&&S(null)},[d]);var _=function(e){m(e),w(!0),e&&e>0&&I(e)},I=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,Ye.getData(P.EXPENSE_HEAD_GET+t,null);case 4:a=e.sent,S(a.data),b(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){w(!1)},R=function(){var e=Object(f.a)(p.a.mark(function e(t){var r,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,b(!0),r="Successfully saved.",d&&d>0&&(t.id=d,r="Successfully updated."),n&&(t.eventId=x.id),e.next=8,Ye.postData(P.EXPENSE_HEAD_CREATE_OR_UPDATE,t);case 8:l=e.sent,console.log(l.data),b(!1),a(),i(r,{variant:"success"}),j(),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0.message),i(e.t0.message,{variant:"error"}),b(!1);case 21:case"end":return e.stop()}},e,null,[[1,16]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:l.root},r.a.createElement(Ge.a,{open:D},r.a.createElement(Ke.a,{id:"form-dialog-title"},"Add Expense Head"),r.a.createElement(qe.a,null,r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},!n&&r.a.createElement($.a,{control:r.a.createElement(Z.a,{name:"checkedC",checked:O,onChange:function(e){N(e.target.checked)}}),label:"Expense on Event"}),r.a.createElement(ct,{fields:function(e){var t=Object(o.a)(e);return t.filter(function(e){return"eventId"==e.name||"empty"==e.name}).map(function(e){e.isHeaden=!O}),t}(jn),data:v,onSubmit:R,cancelEvent:j,submitButton:r.a.createElement(Rn,null),gridItemXS:6}))))))}),[{name:"eventId",label:"Event",defaultValue:"",type:"LIST",isHeaden:!0,validationType:_n,options:[],onLoadEventProps:{apiUrl:P.EVENTS_LIST_GET,reqParams:{},fieldNames:["id","name"]}},{name:"empty",isHeaden:!1},{name:"title",label:"Title",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:_n},{name:"description",label:"Description",defaultValue:"",type:"LONG_TEXT",isHeaden:!1,validationType:_n}]),Rn=function(){return r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Save ")},kn=(Qt[k.OBJECTS.EXPENSE_HEAD],k.FORM_CONSTANTS),Pn=kn.VALIDATOR_TYPE_REQUIRED,Fn=(kn.VALIDATOR_TYPE_OPTIONAL,Object(T.a)(function(e){return{root:{flexGrow:1}}})),Ln=r.a.forwardRef(function(e,t){var a=e.parentObject,n=e.parentRecordId,l=void 0===n?0:n,i=e.getListViewData,o=void 0===i?function(){}:i,c=Fn(),s=Object(Je.b)().enqueueSnackbar,u=r.a.useState(0),d=Object(h.a)(u,2),m=d[0],E=d[1],T=r.a.useState(),v=Object(h.a)(T,2),S=v[0],b=v[1],g=r.a.useContext(at).handleBackDrop;r.a.useImperativeHandle(t,function(){return{handleOpen:C}}),r.a.useEffect(function(){(!m||m<=0)&&b(null)},[m]);var O=r.a.useState(!1),N=Object(h.a)(O,2),x=N[0],A=N[1],C=function(e){E(e),A(!0),e&&e>0&&w(e)},D=function(){A(!1)},w=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,Ye.getData(P.NOTES_GET+t,null);case 4:a=e.sent,b(a.data),g(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(f.a)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,g(!0),n="Successfully saved.",m&&m>0&&(t.id=m,n="Successfully updated."),t.noteType="NOTE",t.parentObject=a,t.parentRecordId=l,e.next=10,Ye.postData(P.NOTES_CREATE_OR_UPDATE,t);case 10:r=e.sent,console.log(r.data),g(!1),o(),s(n,{variant:"success"}),D(),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0.message),s(e.t0.message,{variant:"error"}),g(!1);case 23:case"end":return e.stop()}},e,null,[[1,18]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:c.root},r.a.createElement(Ge.a,{open:x,onClose:D},r.a.createElement(Ke.a,{id:"form-dialog-title"},"Create Note"),r.a.createElement(qe.a,null,r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ct,{fields:Mn,data:S,onSubmit:_,cancelEvent:D,submitButton:r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Save "),gridItemXS:12}))))))}),Mn=[{name:"title",label:"Title",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:Pn},{name:"noteText",label:"Note Text",defaultValue:"",type:"LONG_TEXT",isHeaden:!1,validationType:Pn}],Bn=Object(T.a)(function(e){return{container:{padding:10},containerHeader:{display:"flex",width:"60%"},noteContainer:{marginBottom:10},noteHeader:{display:"flex",background:"#f0f8ff",padding:"4px 10px",height:30,fontWeight:600,color:"#333333c7","&:hover .show-events":{display:"flex"}},noteBody:{padding:"0px 10px"},noteEvents:Object(A.a)({width:"5%",display:"flex",justifyContent:"flex-end"},"display","none")}}),Vn=function(){var e=Bn(),t=Object(Je.b)().enqueueSnackbar,a=r.a.useState([]),n=Object(h.a)(a,2),l=n[0],i=n[1],o=M.getObjectNameFromUrl(),s=M.isDetailView(),u=r.a.useContext(at).handleBackDrop,m=Object(c.h)(),E=r.a.useRef(null),T=r.a.useRef(null),v=r.a.useRef(null);r.a.useEffect(function(){S()},[]);var S=function(){var e=Object(f.a)(p.a.mark(function e(a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s&&((a=a?Object(d.a)({},a):{}).parentObject=o,a.parentFieldName="parentRecordId",a.parentRecordId=m.id,a.orderByFields=[{fieldName:"createdDate",asc:!1}]),u(!0),e.next=5,Ye.getData(P.NOTES_VIEW_GET,a);case 5:n=e.sent,i(n.data),u(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),t(e.t0.message,{variant:"error"});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),b=function(e){return function(){e&&e>0?E.current.handleOpen(e):T.current.handleOpen({title:"Information Dialog",contentText:"Please select one record!"})}},g=function(e){return function(){e&&e>0&&v.current.handleOpen({title:"Confirmation Dialog",contentText:"Are you confirm to delet data?",callback:y(e)})}},y=function(e){return Object(f.a)(p.a.mark(function a(){var n;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ye.deleteData(P.NOTES_DELETE+e);case 3:n=a.sent,console.log(n.data),S(),t("This is a success message!",{variant:"success"}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.message),t(a.t0.message,{variant:"error"});case 13:case"end":return a.stop()}},a,null,[[0,9]])}))},N=[{name:"ADD",title:"Add Note",onClick:function(){E.current.handleOpen()}},{name:"PDF",title:"Export to .pdf file",onClick:function(){}},{name:"CSV",title:"Export to .csv file",onClick:function(){}}];return r.a.createElement(O.a,{className:e.container},r.a.createElement(Ne,{icons:N,search:{columns:Xn,onEnterEvent:function(e,t){var a=Xn.find(function(t){return t.dataField===e});if(a){var n=a.dataField,r=a.type;a.keyConstraints,a.hidden,a.sort,S({seacrchFields:[{dataField:n,type:r,value:t}]})}}}}),l?l.map(function(e){return r.a.createElement(Hn,{data:e,editEvt:b,deleteEvt:g})}):[],r.a.createElement(Ln,{ref:E,parentObject:o.toUpperCase(),parentRecordId:m.id,getListViewData:S}),r.a.createElement(wt,{ref:T,maxWidth:"xs"}),r.a.createElement(It,{ref:v}))},Hn=function(e){var t=e.data,a=e.editEvt,n=void 0===a?function(){}:a,l=e.deleteEvt,i=void 0===l?function(){}:l,o=Bn();return r.a.createElement(O.a,{className:o.noteContainer},r.a.createElement(O.a,{className:o.noteHeader},r.a.createElement(O.a,{style:{width:"95%"}},"Type: ",t.noteType,", Title: ",t.title,", Author: ",t.createdByName,", Date: ",t.modifiedDate),"SYSTEM"!=t.noteType&&r.a.createElement(Un,{editEvt:n(t.id),deleteEvt:i(t.id)})),r.a.createElement(O.a,{className:o.noteBody},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:t.noteText.replace(/\n/g,"<br />")}})))},Un=function(e){var t=e.deleteEvt,a=void 0===t?function(){}:t,n=e.editEvt,l=void 0===n?function(){}:n,i=Bn();return r.a.createElement(O.a,{className:"".concat(i.noteEvents," show-events")},r.a.createElement("span",{style:{cursor:"pointer"},onClick:l},r.a.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"})),r.a.createElement("span",{style:{width:10}}),r.a.createElement("span",{style:{cursor:"pointer"},onClick:a},r.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))},Xn=[{dataField:"id",text:"ID",type:"NUMBER",hidden:!0},{dataField:"title",text:"Title",type:"TEXT",headerStyle:{width:50},headerAttrs:{title:"Title"}},{dataField:"noteText",text:"Note Text",type:"TEXT",headerStyle:{width:70},headerAttrs:{title:"Note Text"}}],Yn=k.OBJECTS,Jn=Qt[k.OBJECTS.PAYMENT],Gn=Object(T.a)(function(e){return{root:{padding:10},container:{minHeight:460},field:{padding:5},fieldLabel:{padding:"0px 5px 0px 5px",backgroundColor:"aliceblue",fontWeight:"bold",color:"#0000003d"},fieldValue:{padding:"0px 5px 0px 5px"},leftPanel:{width:"15%"}}}),Wn=r.a.forwardRef(function(e,t){var a=e.object,n=(Gn(),Object(c.h)(),Object(c.f)(),Object(Je.b)().enqueueSnackbar,r.a.useContext(at).handleBackDrop,r.a.useState(null)),l=Object(h.a)(n,2);l[0],l[1];r.a.useImperativeHandle(t,function(){return{}}),r.a.useEffect(function(){},[]);Jn.filter(function(e){return!e.hidden});return r.a.createElement(O.a,null,r.a.createElement(An,{key:"cust-tab-"+a,tabList:qn(a)}))}),qn=function(e){return e.toUpperCase()==Yn.FLAT_DETAILS?[{value:"1",label:"Notes",object:Yn.NOTES,children:r.a.createElement(Vn,null)},{value:"2",label:"Payment",object:Yn.PAYMENT,children:r.a.createElement(tn,null)},{value:"3",label:"Payment Details",object:Yn.PAYMENT_DETAILS,children:r.a.createElement(za,null)},{value:"4",label:"Maintenance Dues",object:Yn.PAYMENT_DETAILS,children:r.a.createElement(Ia,null)}]:e.toUpperCase()==Yn.PAYMENT?[{value:"1",label:"Notes",object:Yn.NOTES,children:r.a.createElement(Vn,null)},{value:"2",label:"Payment Details",object:Yn.PAYMENT_DETAILS,children:r.a.createElement(za,null)}]:e.toUpperCase()==Yn.EXPENSES?[{value:"1",label:"Notes",object:Yn.NOTES,children:r.a.createElement(Vn,null)},{value:"2",label:"Expense Items",object:Yn.EXPENSE_ITEMS,children:r.a.createElement(on,null)}]:e.toUpperCase()==Yn.EVENTS?[{value:"1",label:"Notes",object:Yn.NOTES,children:r.a.createElement(Vn,null)},{value:"2",label:"Expense",object:Yn.EXPENSES,children:r.a.createElement(ea,{object:e})},{value:"3",label:"Payment Details",object:Yn.PAYMENT,children:r.a.createElement(za,null)}]:[]},zn=function(e){var t=e.id,a=e.refreshData,n=r.a.useContext(at),l=n.handleBackDrop,i=(n.handleDialogOpen,n.handleDialogClose),o=Object(Je.b)().enqueueSnackbar,c=r.a.useState(""),s=Object(h.a)(c,2),u=s[0],d=s[1],m=function(){var e=Object(f.a)(p.a.mark(function e(){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!u||""==u){e.next=18;break}if(!(u.length<10)){e.next=6;break}o("Remarks should be more than 10 character.",{variant:"error"}),e.next=16;break;case 6:return l(!0),n={id:parseInt(t),cancelRemarks:u},e.next=10,Ye.patchData(P.PAYMENT_CANCEL,n);case 10:r=e.sent,console.log(r.data),o("Successfully canceled.",{variant:"success"}),a&&a instanceof Function&&a(),l(!1),i();case 16:e.next=19;break;case 18:o("Please prvide remarks.",{variant:"error"});case 19:e.next=26;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0.message),o(e.t0.message,{variant:"error"}),l(!1);case 26:case"end":return e.stop()}},e,null,[[0,21]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ne,{key:"outlined-size-small-cancel",id:"outlined-size-small-cancel",name:"cancel",label:"Cancel Remarks",variant:"outlined",size:"small",style:{width:"100%"},multiline:!0,minRows:5,onChange:function(e){return d(e.target.value)}})),r.a.createElement(H.a,{item:!0,xs:7}),r.a.createElement(H.a,{item:!0,xs:5,style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(y.a,{onClick:i,color:"primary",variant:"outlined"}," Cancel "),r.a.createElement(O.a,{style:{width:10}}),r.a.createElement(y.a,{onClick:m,color:"primary",variant:"outlined"}," Cancel Payment ")))},Kn=(k.MONTHS_FULL_FORM,Object(T.a)(function(e){return{root:{padding:10},container:{display:"flex",margin:"7px 0px"},leftPanel:{width:"15%"},leftPanelContent:{minHeight:460},rightPanel:{width:"15%"},rightPanelContent:{minHeight:460,height:"100%"},panelSpliter:{width:"1%"},centerPanel:{},centerPanelContent:{height:"100%"},button:{margin:e.spacing(1)},toolBtnContainer:{marginLeft:5,border:"1px solid #83818187",borderRadius:2},buttonStyle:{padding:7,marginTop:-2}}})),Qn=function(){var e=Kn(),t=(Object(c.g)(),Object(c.h)()),a=(Object(c.f)(),Object(Je.b)().enqueueSnackbar),n=r.a.useContext(at),l=n.handleBackDrop,i=n.handleDialogOpen,o=n.handleDialogClose,s=M.getObjectNameFromUrl(),u=r.a.useRef(null),d=r.a.useRef(null),m=r.a.useState(null),E=Object(h.a)(m,2),T=E[0],v=E[1];r.a.useEffect(function(){S()},[s]);var S=function(){var e=Object(f.a)(p.a.mark(function e(){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,Dn.getDataFromAPI(s,t.id);case 4:n=e.sent,v(n.data),l(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),a(e.t0.message,{variant:"error"});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),b=function(e){return Object(f.a)(p.a.mark(function n(){var r;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r="",e===k.OBJECTS.PAYMENT?r=P.PAYMENT_DOWNLOAD+t.id:e===k.OBJECTS.EXPENSES&&(r=P.EXPENSES_DOWNLOAD+t.id),""===r){n.next=9;break}return n.next=6,Ye.downloadFile(r);case 6:n.sent,n.next=10;break;case 9:a("Not implemented yet.",{variant:"error"});case 10:n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0.message),a(n.t0.message,{variant:"error"});case 16:case"end":return n.stop()}},n,null,[[0,12]])}))},g=function(e){return Object(f.a)(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{e===k.OBJECTS.PAYMENT&&i({title:"Cancel Payment",handleClose:o,requiredOKBtn:!1,requiredCancelBtn:!1,component:r.a.createElement(zn,{id:t.id,refreshData:S})})}catch(l){console.log(l.message),a(l.message,{variant:"error"})}case 1:case"end":return n.stop()}},n)}))},y=function(e){return k.OBJECTS.FLAT_DETAILS==e.toUpperCase()||k.OBJECTS.PAYMENT==e.toUpperCase()||k.OBJECTS.EXPENSES==e.toUpperCase()};return r.a.createElement(O.a,{className:e.root},r.a.createElement(Re,{object:s,rightElements:function(){var e=[];return s===k.OBJECTS.PAYMENT&&T&&!T.isCanceled&&e.push(r.a.createElement(ar,{name:"CANCEL",onClick:g(s),style:{fontSize:20,color:"red"}})),s!==k.OBJECTS.PAYMENT&&s!==k.OBJECTS.EXPENSES||e.push(r.a.createElement(ar,{name:"PRINT",onClick:b(s)})),e}(),isDetailView:!0}),r.a.createElement(O.a,{className:e.container},r.a.createElement(O.a,{className:e.leftPanel},r.a.createElement(Cn.a,{elevation:3,className:e.leftPanelContent},r.a.createElement(Zn,{key:"left-panel",ref:u,object:s,data:T}))),r.a.createElement(O.a,{className:e.panelSpliter}),r.a.createElement(O.a,{className:e.centerPanel,style:{width:y(s)?"68%":"84%"}},r.a.createElement(Cn.a,{elevation:3,className:e.centerPanelContent},r.a.createElement(Wn,{object:s}))),y(s)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:e.panelSpliter}),r.a.createElement(O.a,{className:e.rightPanel},r.a.createElement(Cn.a,{elevation:3,className:e.rightPanelContent},r.a.createElement(tr,{key:"right-panel",ref:d,object:s,parentObjData:T}))))))},$n=Object(T.a)(function(e){return{root:{padding:10},container:{minHeight:460},field:{padding:5},fieldLabel:{padding:"0px 5px 0px 5px",backgroundColor:"aliceblue",fontWeight:"bold",color:"#00000052"},fieldValue:{padding:"0px 5px 0px 5px"},leftPanel:{width:"15%"},cancelPayment:{zIndex:1,width:"70%",position:"absolute",left:"20%",top:125,opacity:.5,fontSize:60,transform:"rotate(-45deg)",color:"red"}}}),Zn=r.a.forwardRef(function(e,t){var a=e.object,n=e.data,l=$n();Object(c.h)(),Object(Je.b)().enqueueSnackbar,r.a.useContext(at).handleBackDrop;r.a.useImperativeHandle(t,function(){return{}}),r.a.useEffect(function(){},[]);var i=function(e){var t=e.object,a=e.data,n=$n();return t&&t==k.OBJECTS.PAYMENT&&a&&a.isCanceled?r.a.createElement(O.a,{className:n.cancelPayment},"Payment Canceled"):r.a.createElement(r.a.Fragment,null)},o=function(e){var t=e.dataField,a=e.text,n=e.data,i=n?n[t]:"";return i=i&&""!==i?i:"Empty",r.a.createElement(O.a,{className:l.field},r.a.createElement(O.a,{className:l.fieldLabel},a),r.a.createElement(O.a,{className:l.fieldValue},new String(i)))},s=Qt[a].filter(function(e){return!e.hidden});return r.a.createElement(O.a,null,r.a.createElement(i,{object:a,data:n}),n&&s.map(function(e){return r.a.createElement(o,Object.assign({},e,{data:n}))}))}),er=Object(T.a)(function(e){return{field:{padding:5},fieldLabel:{padding:"0px 5px 0px 5px",backgroundColor:"aliceblue",fontWeight:"bold",color:"#00000052"},fieldValue:{padding:"0px 5px 0px 5px"},header:{borderBottom:"1px solid #00000036",padding:"3px 12px !important",fontWeight:"bold",color:"#0000008f"}}}),tr=r.a.forwardRef(function(e,t){var a=er(),n=Object(Je.b)().enqueueSnackbar,l=r.a.useContext(at).handleBackDrop,i=Object(c.h)(),o=e.object;e.parentObjData;o=rr(o);var s=k.OBJECTS_LABEL[o],u=lr(e,i),d=r.a.useState(null),m=Object(h.a)(d,2),E=m[0],T=m[1];r.a.useImperativeHandle(t,function(){return{refreshData:v}}),r.a.useEffect(function(){u&&u>0&&v(u)},[u]);var v=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t&&t>0)){e.next=8;break}return l(!0),e.next=5,Dn.getRightPanelDataFromAPI(o,t);case 5:a=e.sent,T(a.data),l(!1);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message),n(e.t0.message,{variant:"error"});case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=e.dataField,n=e.text,l=e.data,i=l?l[t]:"";return i=i&&""!==i?i:"Empty",r.a.createElement(O.a,{className:a.field},r.a.createElement(O.a,{className:a.fieldLabel},n),r.a.createElement(O.a,{className:a.fieldValue},new String(i)))},b=Qt[o].filter(function(e){return!e.hidden});return r.a.createElement(O.a,null,r.a.createElement(O.a,{className:a.header},s," ",s.includes("Details")?"":"Details"," "),E&&b.map(function(e){return r.a.createElement(S,Object.assign({},e,{data:E}))}))}),ar=function(e){var t=e.name,a=e.onClick,n=void 0===a?function(){}:a,l=Object(m.a)(e,["name","onClick"]),i=Kn(),o=Object(d.a)({style:{fontSize:20}},l);return r.a.createElement("div",{className:i.toolBtnContainer,onClick:n,title:t},r.a.createElement(fe.a,{"aria-label":t,className:i.buttonStyle},r.a.createElement("i",Object.assign({className:nr[t],"aria-hidden":"true"},o))))},nr={PRINT:"fa fa-print",CANCEL:"fa fa-ban"},rr=function(e){var t=e;return e==k.OBJECTS.FLAT_DETAILS||e==k.OBJECTS.PAYMENT?t=k.OBJECTS.OWNERS:e==k.OBJECTS.EXPENSES&&(t=k.OBJECTS.EVENTS),t},lr=function(e,t){var a=e.object,n=e.parentObjData,r=0;return a==k.OBJECTS.FLAT_DETAILS||a==k.OBJECTS.EXPENSES?r=t.id:a==k.OBJECTS.PAYMENT&&(r=n?n.flatId:0),r},ir=function(){Object(c.h)();r.a.useEffect(function(){e()},[]);var e=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye.downloadFile(P.PAYMENT_DOWNLOAD,t);case 3:a=e.sent,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(O.a,null,"I am print page")},or=Object(T.a)(function(e){return{container:{top:"50%",left:"47%",position:"fixed",marginTop:"-11em",marginLeft:"-15em"},subContainer:{width:500,height:300,padding:20,display:"flex"},subContainer1:{width:200},subContainer2:{width:"100%"},title:{fontSize:26},field:{width:"100%"},actionArea:{display:"flex",justifyContent:"right"},register:{fontSize:11},icon:{fontSize:150,margin:"59px 0px"},sessionList:{width:"100%",marginTop:-23}}}),cr=function(){var e=or(),t=Object(c.g)(),a=Object(Je.b)().enqueueSnackbar,n=r.a.useState(""),l=Object(h.a)(n,2),i=l[0],o=l[1],s=r.a.useState(""),u=Object(h.a)(s,2),d=u[0],m=u[1],E=r.a.useState(null),T=Object(h.a)(E,2),v=T[0],S=T[1],b=r.a.useState([]),g=Object(h.a)(b,2),N=g[0],x=g[1],A=r.a.useState(0),C=Object(h.a)(A,2),D=C[0],w=C[1];r.a.useEffect(function(){localStorage.getItem("token")&&t("/")},[]);var _=function(){var e=Object(f.a)(p.a.mark(function e(){var t,n,r,l,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={username:i,password:d},e.next=4,Ye.postData(P.APP_LOGIN,t);case 4:n=e.sent,(r=n.data).token,l=r.sessionList,(o=l?l.map(function(e){return{value:e.id,text:e.name}}):[]).unshift({value:" ",text:"----Select Session----"}),x(o),S(n.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0.message),a(e.t0.message,{variant:"error"});case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(O.a,{className:e.container},r.a.createElement(Cn.a,{elevation:2,className:e.subContainer},r.a.createElement(H.a,{container:!0,spacing:0,className:e.subContainer2},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(O.a,{className:e.title},"Welcome back!")),N.length<=0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ne,{label:"User ID",id:"outlined-size-small",defaultValue:"9830454323",variant:"outlined",size:"small",className:e.field,onChange:function(e){return o(e.target.value)}})),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ne,{label:"Password",id:"outlined-size-small",defaultValue:"9830454323",variant:"outlined",size:"small",className:e.field,type:"password",onChange:function(e){return m(e.target.value)}})),r.a.createElement(H.a,{item:!0,xs:9},r.a.createElement(O.a,{className:e.register},"Do not have account? ",r.a.createElement("a",{href:"/register"},"Click here to Register"))),r.a.createElement(H.a,{item:!0,xs:3},r.a.createElement(O.a,{className:e.actionArea},r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:_},"Login")))),N.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(re,{name:"sessionList",label:"Session List",value:D,options:N,style:{width:"100%"},className:e.sessionList,onChange:function(e){w(e.target.value),localStorage.setItem("token",v.token),localStorage.setItem("session-id",e.target.value),t("/")}}))))))},sr=k.FORM_CONSTANTS,ur=sr.VALIDATOR_TYPE_REQUIRED,dr=(sr.VALIDATOR_TYPE_OPTIONAL,Object(T.a)(function(e){return{container:{},subContainer:{height:450,margin:"20px 430px"},titleContainer:{width:"100%",height:40,textAlign:"center",background:"aliceblue",fontSize:26},subTitleContainer:{width:"100%",height:35,fontSize:20},itemContainer:{padding:"5px 20px"},backButtonContainer:{marginTop:-33,paddingLeft:5}}})),mr=function(e){e.setData;var t=e.data,a=e.setIndex,n=e.onSubmit,l=dr();return r.a.createElement(O.a,{className:l.itemContainer},r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(O.a,{className:l.subTitleContainer},r.a.createElement(O.a,null,"Session Details"))),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ct,{fields:Er,data:t,gridItemXS:12,onSubmit:n,submitButton:r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Subscribe ")})),r.a.createElement(H.a,{item:!0,xs:12,className:l.backButtonContainer},r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:function(){return a(1)}}," Back "))))},Er=[{name:"name",label:"Name",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:ur},{name:"fromDate",label:"From Date",defaultValue:"",type:"DATE",isHeaden:!1,validationType:ur},{name:"toDate",label:"To Date",defaultValue:"",type:"DATE",isHeaden:!1,validationType:ur}],pr=k.FORM_CONSTANTS,fr=pr.VALIDATOR_TYPE_REQUIRED,hr=(pr.VALIDATOR_TYPE_OPTIONAL,Object(T.a)(function(e){return{container:{},subContainer:{minHeight:450,margin:"20px 430px"},titleContainer:{width:"100%",height:40,textAlign:"center",background:"aliceblue",fontSize:26},subTitleContainer:{width:"100%",height:35,fontSize:20},itemContainer:{padding:"5px 20px"},backButtonContainer:{marginTop:-33,paddingLeft:5}}})),Tr=function(){var e=hr(),t=r.a.useState(0),a=Object(h.a)(t,2),n=a[0],l=a[1],i=r.a.useState(),o=Object(h.a)(i,2),c=o[0],s=o[1],u=r.a.useState(),m=Object(h.a)(u,2),E=m[0],T=m[1],v=r.a.useState(),S=Object(h.a)(v,2),b=S[0],g=S[1],y=Object(Je.b)().enqueueSnackbar,N=r.a.useContext(at).handleBackDrop,x=r.a.useState(),A=Object(h.a)(x,2),C=A[0],D=A[1],w=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(t),N(!0),a={apartmentDetails:c,userDetails:E,sessionDetails:Object(d.a)({},t,{fromDate:G(t.fromDate),toDate:G(t.toDate)})},console.log(a),e.next=7,Ye.postData(P.PROJECT_CREATE_OR_UPDATE,a);case 7:r=e.sent,console.log(r.data),D(r.data),l(n+1),N(!1),y("Successfully subscribed.",{variant:"success"}),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.message),y(e.t0.message,{variant:"error"}),N(!1);case 20:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(O.a,{className:e.container},r.a.createElement(Cn.a,{elevation:2,className:e.subContainer},r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(O.a,{className:e.titleContainer},r.a.createElement(O.a,null,"Register Account"))),r.a.createElement(H.a,{item:!0,xs:12},0==n&&r.a.createElement(vr,{setData:s,data:c,setIndex:l}),1==n&&r.a.createElement(br,{setData:T,data:E,setIndex:l}),2==n&&r.a.createElement(mr,{onSubmit:w,data:b,setIndex:l}),3==n&&r.a.createElement(O.a,null,"Login Id: ",E.contactNo1,r.a.createElement("br",null),"Password: ",C,r.a.createElement("br",null),r.a.createElement("a",{href:"/login"},"Click here to login."))))))},vr=function(e){var t=e.setData,a=e.data,n=e.setIndex,l=hr(),i=function(){var e=Object(f.a)(p.a.mark(function e(a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(a),n(1);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(O.a,{className:l.itemContainer},r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(O.a,{className:l.subTitleContainer},r.a.createElement(O.a,null,"Apartment Details"))),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ct,{fields:Sr,data:a,gridItemXS:12,onSubmit:i,submitButton:r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Next ")}))))},Sr=[{name:"name",label:"Name",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:fr},{name:"address1",label:"Address Line 1",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:fr},{name:"address2",label:"Address Line 2",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:fr},{name:"pinCode",label:"Pin Code",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:fr},{name:"state",label:"State",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:fr}],br=function(e){var t=e.setData,a=e.data,n=e.setIndex,l=hr(),i=function(){var e=Object(f.a)(p.a.mark(function e(a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(a),n(2);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(O.a,{className:l.itemContainer},r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(O.a,{className:l.subTitleContainer},r.a.createElement(O.a,null,"User Details"))),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(ct,{fields:gr,data:a,gridItemXS:12,onSubmit:i,submitButton:r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Next ")})),r.a.createElement(H.a,{item:!0,xs:12,className:l.backButtonContainer},r.a.createElement(y.a,{color:"primary",variant:"outlined",onClick:function(){return n(0)}}," Back "))))},gr=[{name:"firstName",label:"First Name",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:fr},{name:"lastName",label:"Last Name",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:fr},{name:"contactNo1",label:"Phone 1",defaultValue:"",type:"PHONE",isHeaden:!1,validationType:fr}],yr=k.FORM_CONSTANTS,Or=yr.VALIDATOR_TYPE_REQUIRED,Nr=(yr.VALIDATOR_TYPE_OPTIONAL,Object(T.a)(function(e){return{container:{padding:10},row:{padding:"5px 10px","&:hover .show-events":{display:"block !important"}},header:{color:"#0a0b0b85",fontWeight:"bold",fontSize:20},listContainer:{width:"80%"}}})),xr=function(){var e=Nr(),t=(Object(c.f)(),Object(Je.b)().enqueueSnackbar),a=r.a.useContext(at),n=a.handleBackDrop,l=(a.handleDialogOpen,a.handleDialogClose,r.a.useState(null)),i=Object(h.a)(l,2),o=i[0],s=i[1];r.a.useEffect(function(){u()},[]);var u=function(){var e=Object(f.a)(p.a.mark(function e(a){var r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),e.next=4,Ye.getData(P.SESSION_DETAILS_LIST_GET,a);case 4:r=e.sent,s(r.data),n(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),t(e.t0.message,{variant:"error"});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(f.a)(p.a.mark(function e(a){var r,l,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),r="Successfully saved.",(l=Object(d.a)({},a)).fromDate=G(a.fromDate),l.toDate=G(a.toDate),e.next=9,Ye.postData(P.SESSION_DETAILS_CREATE_OR_UPDATE,l);case 9:i=e.sent,console.log(i.data),n(!1),u(),t(r,{variant:"success"}),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message),t(e.t0.message,{variant:"error"}),n(!1);case 21:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(O.a,{className:e.container},r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:8,className:e.header},"Add Session"),r.a.createElement(H.a,{item:!0,xs:4}),r.a.createElement(H.a,{item:!0,xs:8},r.a.createElement(ct,{fields:Ar,gridItemXS:4,onSubmit:m,submitButton:r.a.createElement(y.a,{type:"submit",color:"primary",variant:"outlined"}," Save ")})),r.a.createElement(H.a,{item:!0,xs:4})),r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12,className:e.header},"Session List")),r.a.createElement(O.a,{className:e.listContainer},o&&o.map(function(a,l){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{container:!0,className:e.row,style:l%2==0?{background:"#e5e5e563"}:{}},r.a.createElement(H.a,{item:!0,xs:5},"Name: ",a.name),r.a.createElement(H.a,{item:!0,xs:3},"From Date: ",a.fromDate),r.a.createElement(H.a,{item:!0,xs:3},"To Date: ",a.toDate),r.a.createElement(H.a,{item:!0,xs:1},r.a.createElement("span",{className:"show-events",style:{cursor:"pointer",display:"none"},onClick:(i=a.id,Object(f.a)(p.a.mark(function e(){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(!0),e.next=4,Ye.deleteData(P.SESSION_DETAILS_DELETE+i);case 4:a=e.sent,console.log(a.data),n(!1),u(),t("Successfully deleted.",{variant:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),t(e.t0.message,{variant:"error"}),n(!1);case 16:case"end":return e.stop()}},e,null,[[0,11]])})))},r.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))));var i})))},Ar=[{name:"name",label:"Name",defaultValue:"",type:"TEXT",isHeaden:!1,validationType:Or},{name:"fromDate",label:"From Date",defaultValue:"",type:"DATE",isHeaden:!1,validationType:Or},{name:"toDate",label:"To Date",defaultValue:"",type:"DATE",isHeaden:!1,validationType:Or}],Cr=Object(T.a)(function(e){return{root:{padding:10},container:{display:"flex",margin:"7px 0px"},leftPanel:{width:"15%"},leftPanelContent:{minHeight:460},panelSpliter:{width:"1%"},centerPanel:{},centerPanelContent:{height:"100%"},button:{margin:e.spacing(1)},toolBtnContainer:{marginLeft:5,border:"1px solid #83818187",borderRadius:2},linkStyle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"inherit",padding:"5px 10px"},selectedLink:{background:"#0000001a"}}}),Dr=function(){var e=Cr(),t=M.getObjectNameFromUrl(),a=r.a.useState(_r[0]),n=Object(h.a)(a,2),l=n[0],i=n[1],o=function(e){return function(){i(e)}},c=l?l.id-1:-1;return r.a.createElement(O.a,{className:e.root},r.a.createElement(Re,{object:t}),r.a.createElement(O.a,{className:e.container},r.a.createElement(O.a,{className:e.leftPanel},r.a.createElement(Cn.a,{elevation:3,className:e.leftPanelContent},r.a.createElement(O.a,null),r.a.createElement(O.a,null,_r.map(function(e){return r.a.createElement(wr,{data:e,onClick:o,selected:c+1===e.id})})))),r.a.createElement(O.a,{className:e.panelSpliter}),r.a.createElement(O.a,{className:e.centerPanel,style:{width:"84%"}},r.a.createElement(Cn.a,{elevation:3,className:e.centerPanelContent},c>=0&&Ir[c]))))},wr=function(e){var t=e.data,a=e.onClick,n=void 0===a?function(){}:a,l=e.selected,i=void 0!==l&&l,o=Cr();return r.a.createElement(O.a,{className:"".concat(o.linkStyle," ").concat(i?o.selectedLink:""),title:t.text,onClick:n(t)},r.a.createElement(s.b,{to:"#"}," ",t.text," "))},_r=[{id:1,text:"Session"}],Ir=[r.a.createElement(xr,null)],jr=function(){var e=Object(o.a)(sn);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",element:r.a.createElement(En,null)},function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0==a.length){var n=t.find(function(e){return"/"===e.url});a.push(r.a.createElement(c.b,{index:!0,element:n.element}))}return t.filter(function(e){return"/"!==e.url}).map(function(t){a.push(r.a.createElement(c.b,{path:t.url,element:t.element})),t.subMenu&&a.concat(e(t.subMenu,a))}),a}(e),r.a.createElement(c.b,{path:":object/detail_view/:id",element:r.a.createElement(Qn,null)}),r.a.createElement(c.b,{path:":object/print/:id",element:r.a.createElement(ir,null)}),r.a.createElement(c.b,{path:"/settings",element:r.a.createElement(Dr,null)}),r.a.createElement(c.b,{path:"tab",element:r.a.createElement(An,null)}),r.a.createElement(c.b,{path:"*",element:r.a.createElement(u,null)}),r.a.createElement(c.b,{path:"register",element:r.a.createElement(Tr,null)})),r.a.createElement(c.b,{path:"/login",element:r.a.createElement(cr,null)}))))},Rr=function(){return r.a.createElement(Je.a,{maxSnack:3},r.a.createElement(nt,{value:{}},r.a.createElement(jr,null)))},kr=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,332)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),l(e),i(e)})};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Rr,null)),document.getElementById("root")),kr()}},[[184,3,2]]]);
//# sourceMappingURL=main.756da436.chunk.js.map